var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,e,n){t.$$.on_destroy.push(l(e,n))}function c(t,e,n,r){if(t){const i=h(t,e,n,r);return t[0](i)}}function h(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function f(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=h(e,n,r,a);t.p(i,s)}}function d(t){return null==t?"":t}function p(t,e,n=e){return t.set(n),e}function g(e){return e&&a(e.destroy)?e.destroy:t}const m="undefined"!=typeof window;let v=m?()=>window.performance.now():()=>Date.now(),y=m?t=>requestAnimationFrame(t):t;const x=new Set;function $(t){x.forEach((e=>{e.c(t)||(x.delete(e),e.f())})),0!==x.size&&y($)}function w(t){let e;return 0===x.size&&y($),{promise:new Promise((n=>{x.add(e={c:t,f:n})})),abort(){x.delete(e)}}}function b(t,e){t.appendChild(e)}function _(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode.removeChild(t)}function k(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function N(){return T(" ")}function L(){return T("")}function S(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function F(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function q(t,e){for(const n in e)F(t,n,e[n])}function P(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){t.value=null==e?"":e}let U;function H(){if(void 0===U){U=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){U=!0}}return U}function z(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=C("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=H();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=S(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=S(n.contentWindow,"resize",e)}),b(t,n),()=>{(r||i&&n.contentWindow)&&i(),M(n)}}function j(t,e,n){t.classList[n?"add":"remove"](e)}function O(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const Y=new Set;let Z,I=0;function W(t,e,n,r,i,o,a,s=0){const l=16.666/r;let u="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*o(t);u+=100*t+`%{${a(r,1-r)}}\n`}const c=u+`100% {${a(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${s}`,f=t.ownerDocument;Y.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(C("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${h} ${r}ms linear ${i}ms 1 both`,I+=1,h}function R(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),I-=i,I||y((()=>{I||(Y.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),Y.clear())})))}function V(t){Z=t}function B(){if(!Z)throw new Error("Function called outside component initialization");return Z}function X(t){B().$$.on_mount.push(t)}function G(t){B().$$.on_destroy.push(t)}function Q(){const t=B();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=O(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}function J(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const K=[],tt=[],et=[],nt=[],rt=Promise.resolve();let it=!1;function ot(t){et.push(t)}let at=!1;const st=new Set;function lt(){if(!at){at=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];V(e),ut(e.$$)}for(V(null),K.length=0;tt.length;)tt.pop()();for(let t=0;t<et.length;t+=1){const e=et[t];st.has(e)||(st.add(e),e())}et.length=0}while(K.length);for(;nt.length;)nt.pop()();it=!1,at=!1,st.clear()}}function ut(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}let ct;function ht(t,e,n){t.dispatchEvent(O(`${e?"intro":"outro"}${n}`))}const ft=new Set;let dt;function pt(){dt={r:0,c:[],p:dt}}function gt(){dt.r||o(dt.c),dt=dt.p}function mt(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function vt(t,e,n,r){if(t&&t.o){if(ft.has(t))return;ft.add(t),dt.c.push((()=>{ft.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const yt={duration:0};function xt(n,r,i,s){let l=r(n,i),u=s?0:1,c=null,h=null,f=null;function d(){f&&R(n,f)}function p(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(r){const{delay:i=0,duration:a=300,easing:s=e,tick:g=t,css:m}=l||yt,y={start:v()+i,b:r};r||(y.group=dt,dt.r+=1),c||h?h=y:(m&&(d(),f=W(n,u,r,a,i,s,m)),r&&g(0,1),c=p(y,a),ot((()=>ht(n,r,"start"))),w((t=>{if(h&&t>h.start&&(c=p(h,a),h=null,ht(n,c.b,"start"),m&&(d(),f=W(n,u,c.b,c.duration,0,s,l.css))),c)if(t>=c.end)g(u=c.b,1-u),ht(n,c.b,"end"),h||(c.b?d():--c.group.r||o(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;u=c.a+c.d*s(e/c.duration),g(u,1-u)}return!(!c&&!h)})))}return{run(t){a(l)?(ct||(ct=Promise.resolve(),ct.then((()=>{ct=null}))),ct).then((()=>{l=l(),g(t)})):g(t)},end(){d(),c=h=null}}}function $t(t,e){vt(t,1,1,(()=>{e.delete(t.key)}))}function wt(t,e,n,r,i,o,a,s,l,u,c,h){let f=t.length,d=o.length,p=f;const g={};for(;p--;)g[t[p].key]=p;const m=[],v=new Map,y=new Map;for(p=d;p--;){const t=h(i,o,p),s=n(t);let l=a.get(s);l?r&&l.p(t,e):(l=u(s,t),l.c()),v.set(s,m[p]=l),s in g&&y.set(s,Math.abs(p-g[s]))}const x=new Set,$=new Set;function w(t){mt(t,1),t.m(s,c),a.set(t.key,t),c=t.first,d--}for(;f&&d;){const e=m[d-1],n=t[f-1],r=e.key,i=n.key;e===n?(c=e.first,f--,d--):v.has(i)?!a.has(r)||x.has(r)?w(e):$.has(i)?f--:y.get(r)>y.get(i)?($.add(r),w(e)):(x.add(i),f--):(l(n,a),f--)}for(;f--;){const e=t[f];v.has(e.key)||l(e,a)}for(;d;)w(m[d-1]);return m}function bt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function _t(t){t&&t.c()}function Mt(t,e,n){const{fragment:i,on_mount:s,on_destroy:l,after_update:u}=t.$$;i&&i.m(e,n),ot((()=>{const e=s.map(r).filter(a);l?l.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(ot)}function kt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(t,e){-1===t.$$.dirty[0]&&(K.push(t),it||(it=!0,rt.then(lt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function At(e,n,r,a,s,l,u=[-1]){const c=Z;V(e);const h=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:u,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,h,((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&Ct(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(M)}else f.fragment&&f.fragment.c();n.intro&&mt(e.$$.fragment),Mt(e,n.target,n.anchor),lt()}V(c)}class Tt{$destroy(){kt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Nt(e){let n,r,i,o,a,s,l,u,c,h;return{c(){n=C("div"),r=C("a"),r.innerHTML='<img src="https://www.higsch.com/img/small_round_black_logo.svg" alt="higsch logo" class="svelte-ofm43n"/>',i=N(),o=C("p"),o.textContent="Client login",a=N(),s=C("label"),s.textContent="Password",l=N(),u=C("input"),F(r,"href","https://higsch.com"),F(r,"target","_blank"),F(o,"class","svelte-ofm43n"),F(s,"for","password"),F(s,"class","svelte-ofm43n"),F(u,"id","password"),F(u,"type","password"),F(u,"class","svelte-ofm43n"),F(n,"class","password svelte-ofm43n")},m(t,f){_(t,n,f),b(n,r),b(n,i),b(n,o),b(n,a),b(n,s),b(n,l),b(n,u),D(u,e[1]),e[6](u),c||(h=S(u,"input",e[5]),c=!0)},p(t,e){2&e&&u.value!==t[1]&&D(u,t[1])},i:t,o:t,d(t){t&&M(n),e[6](null),c=!1,h()}}}function Lt(t){let e;const n=t[4].default,r=c(n,t,t[3],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&8&e&&f(r,n,t,t[3],e,null,null)},i(t){e||(mt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function St(t){let e,n,r,i,o;const a=[Lt,Nt],s=[];function l(t,n){return 2&n&&(e=!(1383369270!==t[2](t[1]))),e?0:1}return n=l(t,-1),r=s[n]=a[n](t),{c(){r.c(),i=L()},m(t,e){s[n].m(t,e),_(t,i,e),o=!0},p(t,[e]){let o=n;n=l(t,e),n===o?s[n].p(t,e):(pt(),vt(s[o],1,1,(()=>{s[o]=null})),gt(),r=s[n],r?r.p(t,e):(r=s[n]=a[n](t),r.c()),mt(r,1),r.m(i.parentNode,i))},i(t){o||(mt(r),o=!0)},o(t){vt(r),o=!1},d(t){s[n].d(t),t&&M(i)}}}function Et(t,e,n){let r,{$$slots:i={},$$scope:o}=e,a="";return X((()=>{r.focus()})),t.$$set=t=>{"$$scope"in t&&n(3,o=t.$$scope)},[r,a,t=>t.split("").reduce(((t,e)=>(t=(t<<5)-t+e.charCodeAt(0))&t),0),o,i,function(){a=this.value,n(1,a)},function(t){tt[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Ft extends Tt{constructor(t){super(),At(this,t,Et,St,s,{})}}function qt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pt(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>qt(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const Dt=Pt(qt).right;Pt((function(t){return null===t?NaN:+t})).center;function Ut(t,e,...n){return function(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new Map,s=r[o++];let l=-1;for(const t of i){const e=s(t,++l,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,Array.from,e,n)}var Ht=Math.sqrt(50),zt=Math.sqrt(10),jt=Math.sqrt(2);function Ot(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ht?10:o>=zt?5:o>=jt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ht?10:o>=zt?5:o>=jt?2:1)}var Yt={value:()=>{}};function Zt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new It(r)}function It(t){this._=t}function Wt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Rt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Vt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Yt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Bt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Xt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gt(){}It.prototype=Zt.prototype={constructor:It,on:function(t,e){var n,r=this._,i=Wt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Vt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Vt(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Rt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new It(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Qt=.7,Jt=1/Qt,Kt="\\s*([+-]?\\d+)\\s*",te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ne=/^#([0-9a-f]{3,8})$/,re=new RegExp("^rgb\\("+[Kt,Kt,Kt]+"\\)$"),ie=new RegExp("^rgb\\("+[ee,ee,ee]+"\\)$"),oe=new RegExp("^rgba\\("+[Kt,Kt,Kt,te]+"\\)$"),ae=new RegExp("^rgba\\("+[ee,ee,ee,te]+"\\)$"),se=new RegExp("^hsl\\("+[te,ee,ee]+"\\)$"),le=new RegExp("^hsla\\("+[te,ee,ee,te]+"\\)$"),ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ce(){return this.rgb().formatHex()}function he(){return this.rgb().formatRgb()}function fe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?de(e):3===n?new ve(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=re.exec(t))?new ve(e[1],e[2],e[3],1):(e=ie.exec(t))?new ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=oe.exec(t))?pe(e[1],e[2],e[3],e[4]):(e=ae.exec(t))?pe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=se.exec(t))?we(e[1],e[2]/100,e[3]/100,1):(e=le.exec(t))?we(e[1],e[2]/100,e[3]/100,e[4]):ue.hasOwnProperty(t)?de(ue[t]):"transparent"===t?new ve(NaN,NaN,NaN,0):null}function de(t){return new ve(t>>16&255,t>>8&255,255&t,1)}function pe(t,e,n,r){return r<=0&&(t=e=n=NaN),new ve(t,e,n,r)}function ge(t){return t instanceof Gt||(t=fe(t)),t?new ve((t=t.rgb()).r,t.g,t.b,t.opacity):new ve}function me(t,e,n,r){return 1===arguments.length?ge(t):new ve(t,e,n,null==r?1:r)}function ve(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ye(){return"#"+$e(this.r)+$e(this.g)+$e(this.b)}function xe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function $e(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function we(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _e(t,e,n,r)}function be(t){if(t instanceof _e)return new _e(t.h,t.s,t.l,t.opacity);if(t instanceof Gt||(t=fe(t)),!t)return new _e;if(t instanceof _e)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new _e(a,s,l,t.opacity)}function _e(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Me(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Bt(Gt,fe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ce,formatHex:ce,formatHsl:function(){return be(this).formatHsl()},formatRgb:he,toString:he}),Bt(ve,me,Xt(Gt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new ve(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Qt:Math.pow(Qt,t),new ve(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ye,formatHex:ye,formatRgb:xe,toString:xe})),Bt(_e,(function(t,e,n,r){return 1===arguments.length?be(t):new _e(t,e,n,null==r?1:r)}),Xt(Gt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new _e(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Qt:Math.pow(Qt,t),new _e(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ve(Me(t>=240?t-240:t+120,i,r),Me(t,i,r),Me(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const ke=Math.PI/180,Ce=180/Math.PI,Ae=.96422,Te=.82521,Ne=4/29,Le=6/29,Se=3*Le*Le;function Ee(t){if(t instanceof Fe)return new Fe(t.l,t.a,t.b,t.opacity);if(t instanceof je)return Oe(t);t instanceof ve||(t=ge(t));var e,n,r=Ue(t.r),i=Ue(t.g),o=Ue(t.b),a=qe((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=qe((.4360747*r+.3850649*i+.1430804*o)/Ae),n=qe((.0139322*r+.0971045*i+.7141733*o)/Te)),new Fe(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Fe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function qe(t){return t>.008856451679035631?Math.pow(t,1/3):t/Se+Ne}function Pe(t){return t>Le?t*t*t:Se*(t-Ne)}function De(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ue(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function He(t){if(t instanceof je)return new je(t.h,t.c,t.l,t.opacity);if(t instanceof Fe||(t=Ee(t)),0===t.a&&0===t.b)return new je(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ce;return new je(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ze(t,e,n,r){return 1===arguments.length?He(t):new je(t,e,n,null==r?1:r)}function je(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Oe(t){if(isNaN(t.h))return new Fe(t.l,0,0,t.opacity);var e=t.h*ke;return new Fe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Bt(Fe,(function(t,e,n,r){return 1===arguments.length?Ee(t):new Fe(t,e,n,null==r?1:r)}),Xt(Gt,{brighter:function(t){return new Fe(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Fe(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ve(De(3.1338561*(e=Ae*Pe(e))-1.6168667*(t=1*Pe(t))-.4906146*(n=Te*Pe(n))),De(-.9787684*e+1.9161415*t+.033454*n),De(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Bt(je,ze,Xt(Gt,{brighter:function(t){return new je(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new je(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Oe(this).rgb()}}));var Ye=t=>()=>t;function Ze(t,e){return function(n){return t+n*e}}function Ie(t){return 1==(t=+t)?We:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ye(isNaN(e)?n:e)}}function We(t,e){var n=e-t;return n?Ze(t,n):Ye(isNaN(t)?e:t)}var Re=function t(e){var n=Ie(e);function r(t,e){var r=n((t=me(t)).r,(e=me(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=We(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ve(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Be(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=en(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Xe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ge(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Qe(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=en(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Je=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ke=new RegExp(Je.source,"g");function tn(t,e){var n,r,i,o=Je.lastIndex=Ke.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Je.exec(t))&&(r=Ke.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ge(n,r)})),o=Ke.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function en(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Ye(e):("number"===i?Ge:"string"===i?(n=fe(e))?(e=n,Re):tn:e instanceof fe?Re:e instanceof Date?Xe:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Be:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Qe:Ge:Ve))(t,e)}function nn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var rn,on,an=function(t){return function(e,n){var r=t((e=ze(e)).h,(n=ze(n)).h),i=We(e.c,n.c),o=We(e.l,n.l),a=We(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}((function(t,e){var n=e-t;return n?Ze(t,n>180||n<-180?n-360*Math.round(n/360):n):Ye(isNaN(t)?e:t)})),sn=0,ln=0,un=0,cn=0,hn=0,fn=0,dn="object"==typeof performance&&performance.now?performance:Date,pn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gn(){return hn||(pn(mn),hn=dn.now()+fn)}function mn(){hn=0}function vn(){this._call=this._time=this._next=null}function yn(t,e,n){var r=new vn;return r.restart(t,e,n),r}function xn(){hn=(cn=dn.now())+fn,sn=ln=0;try{!function(){gn(),++sn;for(var t,e=rn;e;)(t=hn-e._time)>=0&&e._call.call(null,t),e=e._next;--sn}()}finally{sn=0,function(){var t,e,n=rn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:rn=e);on=t,wn(r)}(),hn=0}}function $n(){var t=dn.now(),e=t-cn;e>1e3&&(fn-=e,cn=t)}function wn(t){sn||(ln&&(ln=clearTimeout(ln)),t-hn>24?(t<1/0&&(ln=setTimeout(xn,t-dn.now()-fn)),un&&(un=clearInterval(un))):(un||(cn=dn.now(),un=setInterval($n,1e3)),sn=1,pn(xn)))}vn.prototype=yn.prototype={constructor:vn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?gn():+n)+(null==e?0:+e),this._next||on===this||(on?on._next=this:rn=this,on=this),this._call=t,this._time=n,wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,wn())}};Zt("start","end","cancel","interrupt");const bn=Math.pow(2,-52),_n=new Uint32Array(512);class Mn{static from(t,e=En,n=Fn){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Mn(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,l=-1/0,u=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<s&&(s=r),n>l&&(l=n),r>u&&(u=r),this._ids[e]=e}const c=(a+l)/2,h=(s+u)/2;let f,d,p,g=1/0;for(let e=0;e<o;e++){const n=kn(c,h,t[2*e],t[2*e+1]);n<g&&(f=e,g=n)}const m=t[2*f],v=t[2*f+1];g=1/0;for(let e=0;e<o;e++){if(e===f)continue;const n=kn(m,v,t[2*e],t[2*e+1]);n<g&&n>0&&(d=e,g=n)}let y=t[2*d],x=t[2*d+1],$=1/0;for(let e=0;e<o;e++){if(e===f||e===d)continue;const n=Nn(m,v,y,x,t[2*e],t[2*e+1]);n<$&&(p=e,$=n)}let w=t[2*p],b=t[2*p+1];if($===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Ln(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(An(m,v,y,x,w,b)){const t=d,e=y,n=x;d=p,y=w,x=b,p=t,w=e,b=n}const _=function(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,u=o-e,c=a*a+s*s,h=l*l+u*u,f=.5/(a*u-s*l);return{x:t+(u*c-s*h)*f,y:e+(a*h-l*c)*f}}(m,v,y,x,w,b);this._cx=_.x,this._cy=_.y;for(let e=0;e<o;e++)this._dists[e]=kn(t[2*e],t[2*e+1],_.x,_.y);Ln(this._ids,this._dists,0,o-1),this._hullStart=f;let M=3;n[f]=e[p]=d,n[d]=e[f]=p,n[p]=e[d]=f,r[f]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,v)]=f,i[this._hashKey(y,x)]=d,i[this._hashKey(w,b)]=p,this.trianglesLen=0,this._addTriangle(f,d,p,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const l=this._ids[s],u=t[2*l],c=t[2*l+1];if(s>0&&Math.abs(u-o)<=bn&&Math.abs(c-a)<=bn)continue;if(o=u,a=c,l===f||l===d||l===p)continue;let h=0;for(let t=0,e=this._hashKey(u,c);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let g,m=h;for(;g=n[m],!An(u,c,t[2*m],t[2*m+1],t[2*g],t[2*g+1]);)if(m=g,m===h){m=-1;break}if(-1===m)continue;let v=this._addTriangle(m,l,n[m],-1,-1,r[m]);r[l]=this._legalize(v+2),r[m]=v,M++;let y=n[m];for(;g=n[y],An(u,c,t[2*y],t[2*y+1],t[2*g],t[2*g+1]);)v=this._addTriangle(y,l,g,r[l],-1,r[y]),r[l]=this._legalize(v+2),n[y]=y,M--,y=g;if(m===h)for(;g=e[m],An(u,c,t[2*g],t[2*g+1],t[2*m],t[2*m+1]);)v=this._addTriangle(g,l,m,-1,r[m],r[g]),this._legalize(v+2),r[g]=v,n[m]=m,M--,m=g;this._hullStart=e[l]=m,n[m]=e[y]=l,n[l]=y,i[this._hashKey(u,c)]=l,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(M);for(let t=0,e=this._hullStart;t<M;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=_n[--i];continue}const l=a-a%3,u=s+(t+1)%3,c=l+(a+2)%3,h=e[o],f=e[t],d=e[u],p=e[c];if(Tn(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=h;const r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,c);const s=l+(a+1)%3;i<_n.length&&(_n[i++]=s)}else{if(0===i)break;t=_n[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function kn(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Cn(t,e,n,r,i,o){const a=(r-e)*(i-t),s=(n-t)*(o-e);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function An(t,e,n,r,i,o){return(Cn(i,o,t,e,n,r)||Cn(t,e,n,r,i,o)||Cn(n,r,i,o,t,e))<0}function Tn(t,e,n,r,i,o,a,s){const l=t-a,u=e-s,c=n-a,h=r-s,f=i-a,d=o-s,p=c*c+h*h,g=f*f+d*d;return l*(h*g-p*d)-u*(c*g-p*f)+(l*l+u*u)*(c*d-h*f)<0}function Nn(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,u=o-e,c=a*a+s*s,h=l*l+u*u,f=.5/(a*u-s*l),d=(u*c-s*h)*f,p=(a*h-l*c)*f;return d*d+p*p}function Ln(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;Sn(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Sn(t,n,r),e[t[i]]>e[t[r]]&&Sn(t,i,r),e[t[n]]>e[t[i]]&&Sn(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;Sn(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(Ln(t,e,i,r),Ln(t,e,n,o-1)):(Ln(t,e,n,o-1),Ln(t,e,i,r))}}function Sn(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function En(t){return t[0]}function Fn(t){return t[1]}const qn=1e-6;class Pn{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>qn||Math.abs(this._y1-i)>qn)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class Dn{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class Un{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,a=0,s=n.length;o<s;o+=3,a+=2){const s=2*n[o],l=2*n[o+1],u=2*n[o+2],c=t[s],h=t[s+1],f=t[l],d=t[l+1],p=t[u],g=t[u+1],m=f-c,v=d-h,y=p-c,x=g-h,$=m*m+v*v,w=y*y+x*x,b=2*(m*x-v*y);if(b)if(Math.abs(b)<1e-8)e=(c+p)/2,r=(h+g)/2;else{const t=1/b;e=c+(x*$-v*w)*t,r=h+(m*w-y*$)*t}else e=(c+p)/2-1e8*x,r=(h+g)/2+1e8*y;i[a]=e,i[a+1]=r}let o,a,s,l=e[e.length-1],u=4*l,c=t[2*l],h=t[2*l+1];r.fill(0);for(let n=0;n<e.length;++n)l=e[n],o=u,a=c,s=h,u=4*l,c=t[2*l],h=t[2*l+1],r[o+2]=r[u]=s-h,r[o+3]=r[u+1]=c-a}render(t){const e=null==t?t=new Pn:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),s=o[i],l=o[i+1],u=o[a],c=o[a+1];this._renderSegment(s,l,u,c,t)}let s,l=i[i.length-1];for(let e=0;e<i.length;++e){s=l,l=i[e];const n=2*Math.floor(r[l]/3),u=o[n],c=o[n+1],h=4*s,f=this._project(u,c,a[h+2],a[h+3]);f&&this._renderSegment(u,c,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Pn:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Pn:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new Dn;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,s,l=null,u=e[n-2],c=e[n-1],h=this._regioncode(u,c);for(let f=0;f<n;f+=2)if(r=u,i=c,u=e[f],c=e[f+1],o=h,h=this._regioncode(u,c),0===o&&0===h)a=s,s=0,l?l.push(u,c):l=[u,c];else{let e,n,f,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,u,c,o,h)))continue;[n,f,d,p]=e}else{if(null===(e=this._clipSegment(u,c,r,i,h,o)))continue;[d,p,n,f]=e,a=s,s=this._edgecode(n,f),a&&s&&this._edge(t,a,s,l,l.length),l?l.push(n,f):l=[n,f]}a=s,s=this._edgecode(d,p),a&&s&&this._edge(t,a,s,l,l.length),l?l.push(d,p):l=[d,p]}if(l)a=s,s=this._edgecode(l[0],l[1]),a&&s&&this._edge(t,a,s,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,s,l=i||o;8&l?(a=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&l?(a=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&l?(s=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=s,i=this._regioncode(t,e)):(n=a,r=s,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Hn=2*Math.PI,zn=Math.pow;function jn(t){return t[0]}function On(t){return t[1]}function Yn(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Zn{static from(t,e=jn,n=On,r){return new Zn("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new Mn(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=Yn(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Mn(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new Un(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let l=s,u=-1;do{if(yield u=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==u&&(yield e))}}while(l!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let u=t,c=zn(e-l[2*t],2)+zn(n-l[2*t+1],2);const h=r[t];let f=h;do{let r=s[f];const h=zn(e-l[2*r],2)+zn(n-l[2*r+1],2);if(h<c&&(c=h,u=r),f=f%3==2?f-2:f+1,s[f]!==t)break;if(f=a[f],-1===f){if(f=i[(o[t]+1)%i.length],f!==r&&zn(e-l[2*f],2)+zn(n-l[2*f+1],2)<c)return f;break}}while(f!==h);return u}render(t){const e=null==t?t=new Pn:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],s=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new Pn:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,Hn)}return n&&n.value()}renderHull(t){const e=null==t?t=new Pn:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new Dn;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Pn:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new Dn;return this.renderTriangle(t,e),e.value()}}var In={},Wn={};function Rn(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Vn(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Bn(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Xn(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Bn(-t,6):t>9999?"+"+Bn(t,6):Bn(t,4)}(t.getUTCFullYear())+"-"+Bn(t.getUTCMonth()+1,2)+"-"+Bn(t.getUTCDate(),2)+(i?"T"+Bn(e,2)+":"+Bn(n,2)+":"+Bn(r,2)+"."+Bn(i,3)+"Z":r?"T"+Bn(e,2)+":"+Bn(n,2)+":"+Bn(r,2)+"Z":n||e?"T"+Bn(e,2)+":"+Bn(n,2)+"Z":"")}var Gn=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return Wn;if(u)return u=!1,In;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?u=!0:13===r&&(u=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))u=!0;else if(13===r)u=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==Wn;){for(var h=[];r!==In&&r!==Wn;)h.push(r),r=c();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Xn(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Rn(t);return function(r,i){return e(n(r),i,t)}}(t,e):Rn(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Vn(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Vn(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(",").parse;function Qn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Jn(t,e){return fetch(t,e).then(Qn)}var Kn,tr=(Kn=Gn,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),Jn(t,e).then((function(t){return Kn(t,n)}))});function er(t){return function(){return t}}const nr=4294967296;var rr=Math.PI*(3-Math.sqrt(5));function ir(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=yn(h),u=Zt("tick","end"),c=function(){let t=1;return()=>(t=(1664525*t+1013904223)%nr)/nr}();function h(){f(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function f(r){var l,u,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),o=n*rr;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,u=0,c=t.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(a=(i=e-(s=t[u]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}function or(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ar(t){return(t=or(Math.abs(t)))?t[1]:NaN}var sr,lr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ur(t){if(!(e=lr.exec(t)))throw new Error("invalid format: "+t);var e;return new cr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function cr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function hr(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ur.prototype=cr.prototype,cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var fr={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hr(100*t,e),r:hr,s:function(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(sr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+or(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dr(t){return t}var pr,gr,mr,vr=Array.prototype.map,yr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?dr:(e=vr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?dr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(vr.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ur(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):fr[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",$="$"===f?o:/[%p]/.test(y)?l:"",w=fr[y],b=/[defgprs%]/.test(y);function _(t){var i,o,l,f=x,_=$;if("c"===y)_=w(t)+_,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),f=(M?"("===h?h:u:"-"===h||"("===h?"":h)+f,_=("s"===y?yr[8+sr/3]:"")+_+(M&&"("===h?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){_=(46===l?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var k=f.length+t.length+_.length,C=k<p?new Array(p-k+1).join(e):"";switch(g&&d&&(t=r(C+t,C.length?p-_.length:1/0),C=""),n){case"<":t=f+t+_+C;break;case"=":t=f+C+t+_;break;case"^":t=C.slice(0,k=C.length>>1)+f+t+_+C.slice(k);break;default:t=C+f+t+_}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return t+""},_}return{format:h,formatPrefix:function(t,e){var n=h(((t=ur(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ar(e)/3))),i=Math.pow(10,-r),o=yr[8+r/3];return function(t){return n(i*t)+o}}}}function $r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function wr(t){return+t}pr=xr({thousands:",",grouping:[3],currency:["$",""]}),gr=pr.format,mr=pr.formatPrefix;var br=[0,1];function _r(t){return t}function Mr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function kr(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Mr(i,r),o=n(a,o)):(r=Mr(r,i),o=n(o,a)),function(t){return o(r(t))}}function Cr(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Mr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Dt(t,e,1,r)-1;return o[n](i[n](e))}}function Ar(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tr(){var t,e,n,r,i,o,a=br,s=br,l=en,u=_r;function c(){var t=Math.min(a.length,s.length);return u!==_r&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Cr:kr,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=r(s,a.map(t),Ge)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,wr),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=nn,c()},h.clamp=function(t){return arguments.length?(u=!!t||_r,c()):u!==_r},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function Nr(){return Tr()(_r,_r)}function Lr(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ht?i*=10:o>=zt?i*=5:o>=jt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=ur(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ar(e)/3)))-ar(Math.abs(t)))}(o,a))||(r.precision=i),mr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ar(e)-ar(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ar(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return gr(r)}function Sr(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Ot(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Lr(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=Ot(l,u,n))===r)return o[a]=l,o[s]=u,e(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function Er(){var t=Nr();return t.copy=function(){return Ar(t,Er())},$r.apply(t,arguments),Sr(t)}var Fr=new Date,qr=new Date;function Pr(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Pr((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Fr.setTime(+e),qr.setTime(+r),t(Fr),t(qr),Math.floor(n(Fr,qr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Dr=864e5,Ur=6048e5,Hr=Pr((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/Dr),(t=>t.getDate()-1));function zr(t){return Pr((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/Ur}))}var jr=zr(0),Or=zr(1),Yr=(zr(2),zr(3),zr(4)),Zr=(zr(5),zr(6),Pr((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Zr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Pr((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ir=Pr((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Dr}),(function(t){return t.getUTCDate()-1}));function Wr(t){return Pr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ur}))}var Rr=Wr(0),Vr=Wr(1),Br=(Wr(2),Wr(3),Wr(4)),Xr=(Wr(5),Wr(6),Pr((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function Gr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Qr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Xr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Pr((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Kr,ti,ei={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,ri=/^%/,ii=/[\\^$*+?|[\]().{}]/g;function oi(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ai(t){return t.replace(ii,"\\$&")}function si(t){return new RegExp("^(?:"+t.map(ai).join("|")+")","i")}function li(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function ui(t,e,n){var r=ni.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ci(t,e,n){var r=ni.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hi(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fi(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function di(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pi(t,e,n){var r=ni.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gi(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vi(t,e,n){var r=ni.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function yi(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xi(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $i(t,e,n){var r=ni.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wi(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bi(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _i(t,e,n){var r=ni.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mi(t,e,n){var r=ni.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ki(t,e,n){var r=ni.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ci(t,e,n){var r=ri.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ai(t,e,n){var r=ni.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ti(t,e,n){var r=ni.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ni(t,e){return oi(t.getDate(),e,2)}function Li(t,e){return oi(t.getHours(),e,2)}function Si(t,e){return oi(t.getHours()%12||12,e,2)}function Ei(t,e){return oi(1+Hr.count(Zr(t),t),e,3)}function Fi(t,e){return oi(t.getMilliseconds(),e,3)}function qi(t,e){return Fi(t,e)+"000"}function Pi(t,e){return oi(t.getMonth()+1,e,2)}function Di(t,e){return oi(t.getMinutes(),e,2)}function Ui(t,e){return oi(t.getSeconds(),e,2)}function Hi(t){var e=t.getDay();return 0===e?7:e}function zi(t,e){return oi(jr.count(Zr(t)-1,t),e,2)}function ji(t){var e=t.getDay();return e>=4||0===e?Yr(t):Yr.ceil(t)}function Oi(t,e){return t=ji(t),oi(Yr.count(Zr(t),t)+(4===Zr(t).getDay()),e,2)}function Yi(t){return t.getDay()}function Zi(t,e){return oi(Or.count(Zr(t)-1,t),e,2)}function Ii(t,e){return oi(t.getFullYear()%100,e,2)}function Wi(t,e){return oi((t=ji(t)).getFullYear()%100,e,2)}function Ri(t,e){return oi(t.getFullYear()%1e4,e,4)}function Vi(t,e){var n=t.getDay();return oi((t=n>=4||0===n?Yr(t):Yr.ceil(t)).getFullYear()%1e4,e,4)}function Bi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+oi(e/60|0,"0",2)+oi(e%60,"0",2)}function Xi(t,e){return oi(t.getUTCDate(),e,2)}function Gi(t,e){return oi(t.getUTCHours(),e,2)}function Qi(t,e){return oi(t.getUTCHours()%12||12,e,2)}function Ji(t,e){return oi(1+Ir.count(Xr(t),t),e,3)}function Ki(t,e){return oi(t.getUTCMilliseconds(),e,3)}function to(t,e){return Ki(t,e)+"000"}function eo(t,e){return oi(t.getUTCMonth()+1,e,2)}function no(t,e){return oi(t.getUTCMinutes(),e,2)}function ro(t,e){return oi(t.getUTCSeconds(),e,2)}function io(t){var e=t.getUTCDay();return 0===e?7:e}function oo(t,e){return oi(Rr.count(Xr(t)-1,t),e,2)}function ao(t){var e=t.getUTCDay();return e>=4||0===e?Br(t):Br.ceil(t)}function so(t,e){return t=ao(t),oi(Br.count(Xr(t),t)+(4===Xr(t).getUTCDay()),e,2)}function lo(t){return t.getUTCDay()}function uo(t,e){return oi(Vr.count(Xr(t)-1,t),e,2)}function co(t,e){return oi(t.getUTCFullYear()%100,e,2)}function ho(t,e){return oi((t=ao(t)).getUTCFullYear()%100,e,2)}function fo(t,e){return oi(t.getUTCFullYear()%1e4,e,4)}function po(t,e){var n=t.getUTCDay();return oi((t=n>=4||0===n?Br(t):Br.ceil(t)).getUTCFullYear()%1e4,e,4)}function go(){return"+0000"}function mo(){return"%"}function vo(t){return+t}function yo(t){return Math.floor(+t/1e3)}!function(t){(Kr=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=si(i),c=li(i),h=si(o),f=li(o),d=si(a),p=li(a),g=si(s),m=li(s),v=si(l),y=li(l),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ni,e:Ni,f:qi,g:Wi,G:Vi,H:Li,I:Si,j:Ei,L:Fi,m:Pi,M:Di,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vo,s:yo,S:Ui,u:Hi,U:zi,V:Oi,w:Yi,W:Zi,x:null,X:null,y:Ii,Y:Ri,Z:Bi,"%":mo},$={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Xi,e:Xi,f:to,g:ho,G:po,H:Gi,I:Qi,j:Ji,L:Ki,m:eo,M:no,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vo,s:yo,S:ro,u:io,U:oo,V:so,w:lo,W:uo,x:null,X:null,y:co,Y:fo,Z:go,"%":mo},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:xi,e:xi,f:ki,g:gi,G:pi,H:wi,I:wi,j:$i,L:Mi,m:yi,M:bi,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:vi,Q:Ai,s:Ti,S:_i,u:ci,U:hi,V:fi,w:ui,W:di,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:gi,Y:pi,Z:mi,"%":Ci};function b(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=ei[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function _(t,e){return function(n){var r,i,o=Jr(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Qr(Jr(o.y,0,1))).getUTCDay(),r=i>4||0===i?Vr.ceil(r):Vr(r),r=Ir.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Gr(Jr(o.y,0,1))).getDay(),r=i>4||0===i?Or.ceil(r):Or(r),r=Hr.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Qr(Jr(o.y,0,1)).getUTCDay():Gr(Jr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Qr(o)):Gr(o)}}function M(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in ei?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=b(n,x),x.X=b(r,x),x.c=b(e,x),$.x=b(n,$),$.X=b(r,$),$.c=b(e,$),{format:function(t){var e=b(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",$);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}}}(t)).format,Kr.parse,Kr.utcFormat,ti=Kr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const xo=t=>"true"===t.toLowerCase(),$o=t=>ti("%Y-%m-%d %H:%M")(t),wo=t=>{let e=[];return t.awaiting_trial&&e.push("awaiting_trial"),t.furlough&&e.push("furlough"),t.in_exile&&e.push("in_exile"),t.in_prison&&e.push("in_prison"),t.killed&&e.push("killed"),t.released&&e.push("released"),t.suspended_sentence&&e.push("suspended_sentence"),0===e.length&&e.push("unknown"),e.join(";")},bo=t=>{const e={...t,awaiting_trial:xo(t.awaiting_trial),furlough:xo(t.furlough),in_exile:xo(t.in_exile),in_prison:xo(t.in_prison),killed:xo(t.killed),released:xo(t.released),suspended_sentence:xo(t.suspended_sentence)};return{...e,status:wo(e),none:!0,gender:e.gender?e.gender.toLowerCase():null,occupation:"N/A"===e.occupation?null:e.occupation.replace(/\s/g,"_").toLowerCase(),institutioninvestigating:"N/A"===e.institutioninvestigating?null:e.institutioninvestigating.replace(/\s/g,"_").toLowerCase(),province:"N/A"===e.province?null:e.province.replace(/\s/g,"_").toLowerCase(),ethnicgroup:"N/A"===e.ethnicgroup?null:e.ethnicgroup.replace(/\s/g,"_").toLowerCase(),religoiusgroup:"N/A"===e.religoiusgroup?null:e.religoiusgroup.replace(/\s/g,"_").toLowerCase(),intro_en:"N/A"===e.intro_en?null:e.intro_en,intro_fa:"N/A"===e.intro_fa?null:e.intro_fa,bio_en:"N/A"===e.bio_en?null:e.bio_en,bio_fa:"N/A"===e.bio_fa?null:e.bio_fa,twitter:"N/A"===e.twitter?null:e.twitter.replace(/@/g,""),blog_link:"N/A"===e.blog_link?null:e.blog_link,career_en:"N/A"===e.career_en?null:e.career_en,career_fa:"N/A"===e.career_fa?null:e.career_fa,sentence_en:"N/A"===e.sentence_en?null:e.sentence_en,sentence_fa:"N/A"===e.sentence_fa?null:e.sentence_fa,organisation_name_en:"N/A"===e.organisation_name_en?null:e.organisation_name_en,organisation_name_fa:"N/A"===e.organisation_name_fa?null:e.organisation_name_fa,last_update:e.last_update?(n=e.last_update,ti("%Y-%m-%d")(n)):null,modified_date:e.modified_date?$o(e.modified_date):null};var n},_o=[];function Mo(e,n=t){let r;const i=[];function o(t){if(s(e,t)&&(e=t,r)){const t=!_o.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),_o.push(n,e)}if(t){for(let t=0;t<_o.length;t+=2)_o[t][0](_o[t+1]);_o.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return i.push(l),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function ko(e,n,r){const i=!Array.isArray(e),s=i?[e]:e,u=n.length<2;return{subscribe:Mo(r,(e=>{let r=!1;const c=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=n(i?c[0]:c,e);u?e(r):f=a(r)?r:t},p=s.map(((t,e)=>l(t,(t=>{c[e]=t,h&=~(1<<e),r&&d()}),(()=>{h|=1<<e}))));return r=!0,d(),function(){o(p),f()}})).subscribe}}const Co="#003247",Ao="#DAE2F5",To="#FAB243",No={female:"#F6B5C1",male:"#B3C7F2",unknown:"#EEEEEE"},Lo=(t,e,n="#FFFFFF")=>{if(!e)return n;const{name:r,values:i}=e,{color:o=n}=i.find((e=>e.value===t[r]))||{};return o},So=[{name:"none"},{name:"occupation"},{name:"institutioninvestigating"},{name:"status"},{name:"gender"},{name:"ethnicgroup"}].map(((t,e)=>({...t,selected:"occupation"===t.name,show:"none"!==t.name,values:[],id:e}))),Eo=[{name:"none"},{name:"occupation"},{name:"institutioninvestigating"},{name:"status"},{name:"gender"},{name:"ethnicgroup"}].map(((t,e)=>({...t,selected:"institutioninvestigating"===t.name,show:"none"!==t.name,values:[],id:e}))),Fo=(t,e=!1)=>{const{set:n,update:r,subscribe:i}=Mo(t);return{init:r=>{let i=t.map((t=>{const e=r.map((e=>e[t.name])).flat();return{...t,values:[...new Set(e)].map((t=>({value:t})))}}));e&&(i=((t,e="#a9bbe8")=>t.map((t=>{const n=t.values.map(((n,r,i)=>{let o=e;if("gender"===t.name){const{value:t}=n;o=No[t]}else o="none"===t.name?e:ze(Math.floor(r/i.length*360),60,80).formatHex();return{...n,color:o}}));return{...t,values:n}})))(i)),n(i)},reset:()=>r((t=>({...t,selected:!1}))),select:(t,e=!1)=>{r((n=>{let r="none";const{name:i}=n.find((t=>t.selected))||{};return(e||i!==t)&&(r=t),n.map((t=>({...t,selected:t.name===r})))}))},subscribe:i}},qo=Fo(So),Po=Fo(Eo,!0),Do=Mo(),Uo=Mo("en"),Ho=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],zo=ko([Do,Uo],(([t,e])=>((t,e)=>(n,r=e)=>((t,e,n)=>{if(!e||!n)return t;const r=e[n];return t.split(".").reduce(((e,n)=>e?e[n]:t),{...r})||t})(n,t,r))(t,e))),jo=(ko(Uo,(t=>e=>"fa"===t?(t=>t.toString().replace(/\d/g,(t=>Ho[t])).replace(/,/g,"").replace(/\./g,""))(e):e)),ko([Do,Uo],(([t,e])=>{if(!t||!e)return document.dir;const n=t[e];return n&&n.$dir?(document.dir=n.$dir,n.$dir):document.dir}))),Oo=ko(Uo,(t=>e=>`${e}_${t}`)),Yo=ko(Do,(t=>t?Object.keys(t).map((e=>({[t[e].meta.locale]:t[e].meta.name}))).reduce(((t,e)=>({...t,...e})),{}):{})),Zo=(t,e)=>{const n=t.filter((t=>e.includes(t)));return!!(n&&n.length>0)},Io=(t,e)=>{for(const n in e)t.style.setProperty(`--${n}`,e[n])},Wo=(t,e)=>(Io(t,e),{update(e){Io(t,e)}}),Ro=["killed","in_prison","awaiting_trial","awaiting_trial;in_prison","in_exile","suspended_sentence","released","awaiting_trial;released","in_exile;released","furlough","unknown"].reverse(),Vo=1+Math.sqrt(2),Bo=(t,e,n,r)=>{const{values:i,name:o}=t,a=i.map((t=>t.value));let s=Math.max(...n.map((t=>+t.id)));return a.map((t=>{const i=((t,e)=>{if(!e)return t;const{name:n}=e;if(!n)return t;let r=[];return r="status"===n?Ro:Ut(t,(t=>t.length),(t=>t[n])).sort(((t,e)=>t[1]>e[1]?1:-1)).map((t=>t[0])),r.reduce(((e,r)=>[...e,...t.filter((t=>t[n]===r))]),[])})(n.filter((e=>e[o]===t)),e),{phyllotaxisData:a,lastId:l}=((t,e,n,r=2,i=r/2,o=2.5,a=2*Math.PI/Vo)=>{const s=e(o),l=e(i),u=s*Math.sqrt(n)+l,c=Math.round(2*u*Math.PI/(2*r+s)),h=Array.from({length:c}).map((t=>({id:++n,draw:!1})));return{phyllotaxisData:[...t.map((t=>({...t,draw:!0}))),...h].map(((t,n)=>{const i=a*n,o=s*Math.sqrt(n)+l;return{...t,r:e(r),x:Math.cos(i)*o,y:Math.sin(i)*o,withinClusterIndex:n}})),lastId:n}})(i,r,s);return s=l,a})).map(((e,n)=>{const r=e.filter((t=>t.draw)).length;return{id:n,name:a[n],r:Math.max(...e.filter((t=>t.draw)).map((t=>[Math.abs(t.x),Math.abs(t.y)])).flat())*(r<2?3:1),outerR:Math.max(...e.map((t=>[Math.abs(t.x),Math.abs(t.y)])).flat()),color:t.color,data:e,length:r}})).map((t=>(t=>{const{outerR:e,data:n}=t,r=Zn.from(n,(t=>t.x),(t=>t.y)),i=r.voronoi([-e,-e,e,e]),o=n.map(((t,e)=>({...t,voronoiPath:i.renderCell(e)})));return{...t,delaunay:r,data:o}})(t)))},Xo=(t,e,n,r,i,o=!1,a=e/2,s=100)=>{const l=[...t];l.sort(((t,e)=>t.r>e.r?-1:1));let u=0;const c=()=>({id:u++,clusters:[],occupiedWidth:0,maxDiameter:0}),h=[];let f=c();l.forEach((t=>{const n=2*t.r*1;e-f.occupiedWidth<n+a&&(h.push({...f}),f=c()),f.clusters.push(t),f.occupiedWidth+=n,f.maxDiameter=Math.max(f.maxDiameter,n)})),h.push({...f});const d=h.map((t=>{const n=(t=>{let e=Array.from({length:t.length}),n=Math.floor((e.length-1)/2);if(n<0)return t;let r=!0,i=1;return t.forEach((t=>{e[n]=t,n=r?n+i:n-i,r=!r,i++})),e})(t.clusters),r=n.reduce(((t,e)=>t+2*e.r*1),0),i=(e-r)/(n.length+1);let o=i;const a=n.map(((t,e,n)=>(o+=0===e?1*t.r:1*(n[e-1].r+t.r)+i,{...t,x:o,xSpacing:i})));return{...t,clusters:a}})),p=Math.min(s,1.2*(n-r.top-r.bottom-d.reduce(((t,e)=>t+e.maxDiameter),0))/d.length);let g=r.top;const m=d.map(((t,e,r)=>(g+=0===e?t.maxDiameter/2:(r[e-1].maxDiameter+t.maxDiameter)/2+p,{...t,ySpacing:p,y:Math.min(g,n-t.maxDiameter/2)})));let v=[];return m.forEach((t=>{v=[...v,...t.clusters.map((r=>({...r,x:r.x-e/2,y:t.y-n/2,xAbsolute:r.x,yAbsolute:t.y,ySpacing:t.ySpacing,maxDiameter:t.maxDiameter,paneDimensions:{x:r.x-r.r-("rtl"===i?r.xSpacing:0),y:t.y-t.maxDiameter/2-r.data[0].r,width:2*r.r+r.xSpacing,height:t.maxDiameter+2*r.data[0].r}})))]})),v},Go=(t,e,n)=>new Promise((r=>{let i=[...t];const o=.9*Math.max(e,n)/2;ir().nodes(i).force("center",function(t,e,n){var r,i,o,a=er(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var l=r[a],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),f=(o[a]-h)*i[a]*t/h;l.vx+=u*f,l.vy+=c*f}}function l(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=er(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,l()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:er(+t),l(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:er(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}().radius(((t,e)=>o+e%10*10)).x(0).y(0)).on("end",(()=>r(i))).tick(300)})),Qo=(t=0)=>Er().domain([0,420]).range([t/1e3,t]),Jo=Mo(Qo),Ko=Mo(null),ta=Mo(null),ea=Mo(null),na=ko([Ko,ea],(([t,e])=>t?t.clusterId:e?e.clusterId:null));function ra(e){let n,r,i,o,a,s,l,u,c,h,f,p,m,v=e[1]("title.heading")+"",y=e[1]("title.subheading")+"";return{c(){n=C("div"),r=C("img"),o=N(),a=C("div"),s=C("h1"),l=T(v),c=N(),h=C("h2"),f=T(y),r.src!==(i="img/rosette_01_t.png")&&F(r,"src","img/rosette_01_t.png"),F(r,"alt","White rosette"),F(r,"class","svelte-uagvqp"),F(s,"class",u=d(e[0])+" svelte-uagvqp"),F(h,"class","svelte-uagvqp"),F(a,"class","title-text svelte-uagvqp"),F(n,"class","title svelte-uagvqp")},m(t,e){_(t,n,e),b(n,r),b(n,o),b(n,a),b(a,s),b(s,l),b(a,c),b(a,h),b(h,f),p||(m=g(Wo.call(null,n,{defaultColor:Ao})),p=!0)},p(t,[e]){2&e&&v!==(v=t[1]("title.heading")+"")&&P(l,v),1&e&&u!==(u=d(t[0])+" svelte-uagvqp")&&F(s,"class",u),2&e&&y!==(y=t[1]("title.subheading")+"")&&P(f,y)},i:t,o:t,d(t){t&&M(n),p=!1,m()}}}function ia(t,e,n){let r,i;return u(t,jo,(t=>n(0,r=t))),u(t,zo,(t=>n(1,i=t))),[r,i]}class oa extends Tt{constructor(t){super(),At(this,t,ia,ra,s,{})}}function aa(e){let n,r,i,o,a,s,l,u,c,h,f,d,p,m,v=e[0]("intro.text1")+"",y=e[0]("intro.text2")+"",x=e[0]("intro.mail")+"";return{c(){n=C("div"),r=C("div"),i=C("p"),o=T(v),a=N(),s=C("p"),l=T(y),u=N(),c=C("a"),h=T(x),d=T("."),F(i,"class","svelte-znolgn"),F(c,"href",f="mailto:"+e[0]("intro.mail")),F(s,"class","svelte-znolgn"),F(r,"class","intro-text svelte-znolgn"),F(n,"class","intro svelte-znolgn")},m(t,e){_(t,n,e),b(n,r),b(r,i),b(i,o),b(r,a),b(r,s),b(s,l),b(s,u),b(s,c),b(c,h),b(s,d),p||(m=g(Wo.call(null,n,{defaultColor:Ao})),p=!0)},p(t,[e]){1&e&&v!==(v=t[0]("intro.text1")+"")&&P(o,v),1&e&&y!==(y=t[0]("intro.text2")+"")&&P(l,y),1&e&&x!==(x=t[0]("intro.mail")+"")&&P(h,x),1&e&&f!==(f="mailto:"+t[0]("intro.mail"))&&F(c,"href",f)},i:t,o:t,d(t){t&&M(n),p=!1,m()}}}function sa(t,e,n){let r;return u(t,zo,(t=>n(0,r=t))),[r]}class la extends Tt{constructor(t){super(),At(this,t,sa,aa,s,{})}}function ua(e){let n,r,i,o,a,s,l,u,c,h;return i=new oa({}),a=new la({}),{c(){n=C("div"),r=C("div"),_t(i.$$.fragment),o=N(),_t(a.$$.fragment),s=N(),l=C("div"),F(l,"class","separator svelte-kcj5mj"),F(r,"class","title-bar-content svelte-kcj5mj"),F(n,"class","title-bar svelte-kcj5mj")},m(t,e){_(t,n,e),b(n,r),Mt(i,r,null),b(r,o),Mt(a,r,null),b(r,s),b(r,l),u=!0,c||(h=g(Wo.call(null,n,{defaultColor:Ao,background:Co})),c=!0)},p:t,i(t){u||(mt(i.$$.fragment,t),mt(a.$$.fragment,t),u=!0)},o(t){vt(i.$$.fragment,t),vt(a.$$.fragment,t),u=!1},d(t){t&&M(n),kt(i),kt(a),c=!1,h()}}}class ca extends Tt{constructor(t){super(),At(this,t,null,ua,s,{})}}function ha(e){let n,r,i,o,s;return{c(){n=A("svg"),r=A("path"),F(r,"d","M0 50L50 0L100 50L50 100Z"),F(r,"class","svelte-6d6b44"),F(n,"viewBox",-fa+" "+-fa+" "+(100+2*fa)+" "+(100+2*fa)),F(n,"class","svelte-6d6b44"),j(n,"hoverEnabled",e[4])},m(t,a){_(t,n,a),b(n,r),o||(s=g(i=Wo.call(null,n,{color:e[0],strokeWidth:e[2],fill:e[0],fillOpacity:e[3]?e[1]:0})),o=!0)},p(t,[e]){i&&a(i.update)&&15&e&&i.update.call(null,{color:t[0],strokeWidth:t[2],fill:t[0],fillOpacity:t[3]?t[1]:0}),16&e&&j(n,"hoverEnabled",t[4])},i:t,o:t,d(t){t&&M(n),o=!1,s()}}}const fa=10;function da(t,e,n){let{color:r="#000000"}=e,{fillOpacity:i=1}=e,{strokeWidth:o="0.6em"}=e,{filled:a=!1}=e,{hoverEnabled:s=!0}=e;return t.$$set=t=>{"color"in t&&n(0,r=t.color),"fillOpacity"in t&&n(1,i=t.fillOpacity),"strokeWidth"in t&&n(2,o=t.strokeWidth),"filled"in t&&n(3,a=t.filled),"hoverEnabled"in t&&n(4,s=t.hoverEnabled)},[r,i,o,a,s]}class pa extends Tt{constructor(t){super(),At(this,t,da,ha,s,{color:0,fillOpacity:1,strokeWidth:2,filled:3,hoverEnabled:4})}}function ga(t){let e,n,r,i,o,a,s,l,u,c,h,f,d,p,m,v=t[0]("controlexplainer.text1")+"",y=t[0]("controlexplainer.text2")+"";return a=new pa({props:{color:Ao,hoverEnabled:!1}}),h=new pa({props:{color:To,hoverEnabled:!1}}),{c(){e=C("div"),n=C("p"),r=T(v),i=N(),o=C("span"),_t(a.$$.fragment),s=N(),l=T(y),u=N(),c=C("span"),_t(h.$$.fragment),f=T("."),F(o,"class","turned svelte-3az2az"),F(c,"class","svelte-3az2az"),F(n,"class","svelte-3az2az"),F(e,"class","control-explainer svelte-3az2az")},m(t,v){_(t,e,v),b(e,n),b(n,r),b(n,i),b(n,o),Mt(a,o,null),b(n,s),b(n,l),b(n,u),b(n,c),Mt(h,c,null),b(n,f),d=!0,p||(m=g(Wo.call(null,e,{defaultColor:Ao})),p=!0)},p(t,[e]){(!d||1&e)&&v!==(v=t[0]("controlexplainer.text1")+"")&&P(r,v),(!d||1&e)&&y!==(y=t[0]("controlexplainer.text2")+"")&&P(l,y)},i(t){d||(mt(a.$$.fragment,t),mt(h.$$.fragment,t),d=!0)},o(t){vt(a.$$.fragment,t),vt(h.$$.fragment,t),d=!1},d(t){t&&M(e),kt(a),kt(h),p=!1,m()}}}function ma(t,e,n){let r;return u(t,zo,(t=>n(0,r=t))),[r]}class va extends Tt{constructor(t){super(),At(this,t,ma,ga,s,{})}}function ya(t){let e,n,r,i=t[4]("controlpane.grouping")+"";return{c(){e=C("span"),n=C("span"),r=T(i),F(n,"class","group-explanation-label svelte-16i3vma"),F(e,"class","group-explanation-line svelte-16i3vma")},m(t,i){_(t,e,i),b(e,n),b(n,r)},p(t,e){16&e&&i!==(i=t[4]("controlpane.grouping")+"")&&P(r,i)},d(t){t&&M(e)}}}function xa(t){let e,n,r,i=t[4]("controlpane.coloring")+"";return{c(){e=C("span"),n=C("span"),r=T(i),F(n,"class","color-explanation-label svelte-16i3vma"),F(e,"class","color-explanation-line svelte-16i3vma")},m(t,i){_(t,e,i),b(e,n),b(n,r)},p(t,e){16&e&&i!==(i=t[4]("controlpane.coloring")+"")&&P(r,i)},d(t){t&&M(e)}}}function $a(t){let e,n,r,i,a,s,l,u,c,h,f,d,p,m,v,y,x=t[4](`grouping.${t[0]}`)+"";i=new pa({props:{color:Ao,filled:t[1].selected}}),l=new pa({props:{color:To,filled:t[2].selected}});let $=t[1].selected&&ya(t),w=t[2].selected&&xa(t);return{c(){e=C("div"),n=C("div"),r=C("span"),_t(i.$$.fragment),a=N(),s=C("span"),_t(l.$$.fragment),u=N(),c=C("span"),h=T(x),f=N(),d=C("div"),$&&$.c(),p=N(),w&&w.c(),F(r,"class","group-diamond-wrapper turned svelte-16i3vma"),F(s,"class","color-diamond-wrapper svelte-16i3vma"),F(c,"class","name svelte-16i3vma"),j(c,"grouped",t[1].selected),j(c,"colored",t[2].selected),F(n,"class","content svelte-16i3vma"),F(d,"class","explanation svelte-16i3vma"),F(e,"class","grouping-button svelte-16i3vma"),j(e,"ltr","ltr"===t[3]),j(e,"rtl","rtl"===t[3])},m(o,x){_(o,e,x),b(e,n),b(n,r),Mt(i,r,null),b(n,a),b(n,s),Mt(l,s,null),b(n,u),b(n,c),b(c,h),b(e,f),b(e,d),$&&$.m(d,null),b(d,p),w&&w.m(d,null),m=!0,v||(y=[S(r,"click",t[6]),S(s,"click",t[7]),S(c,"click",t[8]),g(Wo.call(null,e,{color1:Ao,color2:To}))],v=!0)},p(t,[n]){const r={};2&n&&(r.filled=t[1].selected),i.$set(r);const o={};4&n&&(o.filled=t[2].selected),l.$set(o),(!m||17&n)&&x!==(x=t[4](`grouping.${t[0]}`)+"")&&P(h,x),2&n&&j(c,"grouped",t[1].selected),4&n&&j(c,"colored",t[2].selected),t[1].selected?$?$.p(t,n):($=ya(t),$.c(),$.m(d,p)):$&&($.d(1),$=null),t[2].selected?w?w.p(t,n):(w=xa(t),w.c(),w.m(d,null)):w&&(w.d(1),w=null),8&n&&j(e,"ltr","ltr"===t[3]),8&n&&j(e,"rtl","rtl"===t[3])},i(t){m||(mt(i.$$.fragment,t),mt(l.$$.fragment,t),m=!0)},o(t){vt(i.$$.fragment,t),vt(l.$$.fragment,t),m=!1},d(t){t&&M(e),kt(i),kt(l),$&&$.d(),w&&w.d(),v=!1,o(y)}}}function wa(t,e,n){let r,i;u(t,jo,(t=>n(3,r=t))),u(t,zo,(t=>n(4,i=t)));let{name:o}=e,{groupControl:a={}}=e,{colorControl:s={}}=e;const l=Q();function c(t){l("click",{type:t,name:o})}return t.$$set=t=>{"name"in t&&n(0,o=t.name),"groupControl"in t&&n(1,a=t.groupControl),"colorControl"in t&&n(2,s=t.colorControl)},[o,a,s,r,i,c,()=>c("group"),()=>c("color"),()=>c("all")]}class ba extends Tt{constructor(t){super(),At(this,t,wa,$a,s,{name:0,groupControl:1,colorControl:2})}}function _a(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Ma(t,e){let n,r,i;function o(...t){return e[5](e[8],...t)}function a(...t){return e[6](e[8],...t)}return r=new ba({props:{name:e[8],groupControl:e[0].find(o),colorControl:e[1].find(a)}}),r.$on("click",e[3]),{key:t,first:null,c(){n=L(),_t(r.$$.fragment),this.first=n},m(t,e){_(t,n,e),Mt(r,t,e),i=!0},p(t,n){e=t;const i={};4&n&&(i.name=e[8]),5&n&&(i.groupControl=e[0].find(o)),6&n&&(i.colorControl=e[1].find(a)),r.$set(i)},i(t){i||(mt(r.$$.fragment,t),i=!0)},o(t){vt(r.$$.fragment,t),i=!1},d(t){t&&M(n),kt(r,t)}}}function ka(t){let e,n,r,i,o,a=[],s=new Map;n=new va({});let l=t[2];const u=t=>t[8];for(let e=0;e<l.length;e+=1){let n=_a(t,l,e),r=u(n);s.set(r,a[e]=Ma(r,n))}return{c(){e=C("div"),_t(n.$$.fragment),r=N(),i=C("div");for(let t=0;t<a.length;t+=1)a[t].c();F(i,"class","control-buttons svelte-12hgwer"),F(e,"class","control-pane svelte-12hgwer")},m(t,s){_(t,e,s),Mt(n,e,null),b(e,r),b(e,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null);o=!0},p(t,[e]){15&e&&(l=t[2],pt(),a=wt(a,e,u,1,t,l,s,i,$t,Ma,null,_a),gt())},i(t){if(!o){mt(n.$$.fragment,t);for(let t=0;t<l.length;t+=1)mt(a[t]);o=!0}},o(t){vt(n.$$.fragment,t);for(let t=0;t<a.length;t+=1)vt(a[t]);o=!1},d(t){t&&M(e),kt(n);for(let t=0;t<a.length;t+=1)a[t].d()}}}function Ca(t,e,n){let r,i;u(t,qo,(t=>n(0,r=t))),u(t,Po,(t=>n(1,i=t)));let{topOffset:o=0}=e,a=[],s=!1;return t.$$set=t=>{"topOffset"in t&&n(4,o=t.topOffset)},t.$$.update=()=>{3&t.$$.dirty&&n(2,a=[...new Set([...r,...i].filter((t=>t.show)).map((t=>t.name)))])},[r,i,a,function(t){const{type:e,name:n}=t.detail;switch(e){case"group":qo.select(n);break;case"color":Po.select(n);break;case"all":qo.select(n,!0),Po.select(n,!0)}ea.set(null),ta.set(null),s||(window.scrollTo({top:o/1.5,behavior:"smooth"}),s=!0)},o,(t,e)=>e.name===t,(t,e)=>e.name===t]}class Aa extends Tt{constructor(t){super(),At(this,t,Ca,ka,s,{topOffset:4})}}function Ta(t){const e=t-1;return e*e*e+1}function Na(t){return"[object Date]"===Object.prototype.toString.call(t)}function La(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>La(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Na(t)&&Na(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=La(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Sa(t,r={}){const i=Mo(t);let o,a=t;function s(s,l){if(null==t)return i.set(t=s),Promise.resolve();a=s;let u=o,c=!1,{delay:h=0,duration:f=400,easing:d=e,interpolate:p=La}=n(n({},r),l);if(0===f)return u&&(u.abort(),u=null),i.set(t=a),Promise.resolve();const g=v()+h;let m;return o=w((e=>{if(e<g)return!0;c||(m=p(t,s),"function"==typeof f&&(f=f(t,s)),c=!0),u&&(u.abort(),u=null);const n=e-g;return n>f?(i.set(t=s),!1):(i.set(t=m(d(n/f))),!0)})),o.promise}return{set:s,update:(e,n)=>s(e(a,t),n),subscribe:i.subscribe}}function Ea(t,{delay:n=0,duration:r=400,easing:i=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function Fa(t){let e,n,r,i,o,s,l,u,c,h=t[10](`groupingvalues.${t[1]}.${t[0].name}`)+"";return{c(){e=C("div"),n=C("h2"),r=C("span"),i=T(h),F(r,"class","description svelte-1tstj8o"),F(n,"class","foreground svelte-1tstj8o"),F(e,"class","rosette-title svelte-1tstj8o"),j(e,"hovered",t[4])},m(a,s){_(a,e,s),b(e,n),b(n,r),b(r,i),l=!0,u||(c=g(o=Wo.call(null,e,{left:`${t[7]}px`,top:`${t[8]}px`,width:`${t[5]}px`,height:`${t[6]}px`,h2bottom:`${t[9]}px`,textColor:t[2],backgroundColor:t[3]})),u=!0)},p(t,[n]){(!l||1027&n)&&h!==(h=t[10](`groupingvalues.${t[1]}.${t[0].name}`)+"")&&P(i,h),o&&a(o.update)&&1004&n&&o.update.call(null,{left:`${t[7]}px`,top:`${t[8]}px`,width:`${t[5]}px`,height:`${t[6]}px`,h2bottom:`${t[9]}px`,textColor:t[2],backgroundColor:t[3]}),16&n&&j(e,"hovered",t[4])},i(t){l||(ot((()=>{s||(s=xt(e,Ea,{},!0)),s.run(1)})),l=!0)},o(t){s||(s=xt(e,Ea,{},!1)),s.run(0),l=!1},d(t){t&&M(e),t&&s&&s.end(),u=!1,c()}}}const qa=1e3;function Pa(t,e,n){let r,i,o,a,s,l;u(t,zo,(t=>n(10,l=t)));let{cluster:c}=e,{groupControlName:h="none"}=e,{textColor:f="#000000"}=e,{backgroundColor:d="#FFFFFF"}=e,{hovered:p=!1}=e;const g=Sa(null,{duration:qa,easing:Ta});u(t,g,(t=>n(7,o=t)));const m=Sa(null,{duration:qa,easing:Ta});u(t,m,(t=>n(8,a=t)));const v=Sa(null,{duration:qa,easing:Ta});return u(t,v,(t=>n(9,s=t))),t.$$set=t=>{"cluster"in t&&n(0,c=t.cluster),"groupControlName"in t&&n(1,h=t.groupControlName),"textColor"in t&&n(2,f=t.textColor),"backgroundColor"in t&&n(3,d=t.backgroundColor),"hovered"in t&&n(4,p=t.hovered)},t.$$.update=()=>{1&t.$$.dirty&&n(5,r=5*Math.max(3*c.data[0].r,c.r)),1&t.$$.dirty&&n(6,i=2*c.r+2*c.data[0].r),33&t.$$.dirty&&g.set(c.xAbsolute-r/2),1&t.$$.dirty&&m.set(c.yAbsolute-c.r-2*c.data[0].r),1&t.$$.dirty&&v.set(2*c.r+2*c.data[0].r),1&t.$$.dirty&&c.data.filter((t=>t.draw)).length},[c,h,f,d,p,r,i,o,a,s,l,g,m,v]}class Da extends Tt{constructor(t){super(),At(this,t,Pa,Fa,s,{cluster:0,groupControlName:1,textColor:2,backgroundColor:3,hovered:4})}}function Ua(t,e,n){const r=t.slice();return r[5]=e[n],r}function Ha(t){let e,n,r=[],i=new Map,o=t[0];const a=t=>t[5].id;for(let e=0;e<o.length;e+=1){let n=Ua(t,o,e),s=a(n);i.set(s,r[e]=za(s,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=L()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);_(t,e,i),n=!0},p(t,n){13&n&&(o=t[0],pt(),r=wt(r,n,a,1,t,o,i,e.parentNode,$t,za,e,Ua),gt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)mt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)vt(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&M(e)}}}function za(t,e){let n,r,i;return r=new Da({props:{cluster:e[5],groupControlName:e[2],textColor:Co,backgroundColor:Ao,hovered:null!==e[3]&&e[3]===e[5].id}}),{key:t,first:null,c(){n=L(),_t(r.$$.fragment),this.first=n},m(t,e){_(t,n,e),Mt(r,t,e),i=!0},p(t,n){e=t;const i={};1&n&&(i.cluster=e[5]),4&n&&(i.groupControlName=e[2]),9&n&&(i.hovered=null!==e[3]&&e[3]===e[5].id),r.$set(i)},i(t){i||(mt(r.$$.fragment,t),i=!0)},o(t){vt(r.$$.fragment,t),i=!1},d(t){t&&M(n),kt(r,t)}}}function ja(t){let e,n,r=t[1]&&Ha(t);return{c(){e=C("div"),r&&r.c(),F(e,"class","rosette-background svelte-1h07max")},m(t,i){_(t,e,i),r&&r.m(e,null),n=!0},p(t,[n]){t[1]?r?(r.p(t,n),2&n&&mt(r,1)):(r=Ha(t),r.c(),mt(r,1),r.m(e,null)):r&&(pt(),vt(r,1,1,(()=>{r=null})),gt())},i(t){n||(mt(r),n=!0)},o(t){vt(r),n=!1},d(t){t&&M(e),r&&r.d()}}}function Oa(t,e,n){let r,i,o;u(t,qo,(t=>n(4,i=t))),u(t,na,(t=>n(3,o=t)));let{data:a=[]}=e,{showClusterTitles:s=!0}=e;return t.$$set=t=>{"data"in t&&n(0,a=t.data),"showClusterTitles"in t&&n(1,s=t.showClusterTitles)},t.$$.update=()=>{16&t.$$.dirty&&n(2,({name:r}=i.find((t=>t.selected))||{}),r)},[a,s,r,o,i]}class Ya extends Tt{constructor(t){super(),At(this,t,Oa,ja,s,{data:0,showClusterTitles:1})}}const Za=",",Ia=t=>{const e=t.match(/^M-?\d+\.?\d+,\-?\d+\.?\d+/)[0],n=e.replace(/^M/,"").split(Za).map((t=>+t));return[["M0,0",...t.replace(e,"").split(/(?=[A-Z])/).map((t=>((t,e)=>{const[n,r]=e,i=t.substring(0,1),[o,a]=t.replace(/[A-Z]/,"").split(Za).map((t=>+t));let s=`${i}`;return o&&a&&(s=`${s}${o-n},${a-r}`),s})(t,n)))].join(""),...n]};function Wa(t){let e,n,r,i,a;const s=t[9].default,l=c(s,t,t[8],null);return{c(){e=C("canvas"),n=N(),l&&l.c()},m(o,s){_(o,e,s),t[10](e),_(o,n,s),l&&l.m(o,s),r=!0,i||(a=[S(e,"mousemove",t[11]),S(e,"click",t[12])],i=!0)},p(t,[e]){l&&l.p&&256&e&&f(l,s,t,t[8],e,null,null)},i(t){r||(mt(l,t),r=!0)},o(t){vt(l,t),r=!1},d(r){r&&M(e),t[10](null),r&&M(n),l&&l.d(r),i=!1,o(a)}}}function Ra(t,e,n){let{$$slots:r={},$$scope:i}=e,{width:o=0}=e,{height:a=0}=e,{pixelRatio:s=window.devicePixelRatio||1}=e,{center:l=!0}=e,{contextName:u="canvas"}=e;const c=Q(),h=[];let f,d,p,g=!1;function m(t,e){const{layerX:n,layerY:r}=t;c(e,l?{x:n-o/2,y:r-a/2}:{x:n,y:r})}function v(){d&&(l?d.clearRect(-o/2,-a/2,o,a):d.clearRect(0,0,o,a),h.forEach((t=>{d.save(),t(d),d.restore()})),n(7,g=!1))}G((()=>{p&&cancelAnimationFrame(p)}));return t.$$set=t=>{"width"in t&&n(2,o=t.width),"height"in t&&n(3,a=t.height),"pixelRatio"in t&&n(4,s=t.pixelRatio),"center"in t&&n(5,l=t.center),"contextName"in t&&n(6,u=t.contextName),"$$scope"in t&&n(8,i=t.$$scope)},t.$$.update=()=>{var e,r;192&t.$$.dirty&&(e=u,r={register(t){h.push(t)},deregister(t){h.splice(h.indexOf(t),1)},invalidate(){g||(n(7,g=!0),p=requestAnimationFrame(v))}},B().$$.context.set(e,r)),61&t.$$.dirty&&(d=((t,e=0,n=0,r=1,i=!0)=>{if(!t)return;const o=t.getContext("2d");return t.width=e*r,t.height=n*r,t.style.width=`${e}px`,t.style.height=`${n}px`,o.scale(r,r),i&&o.translate(e/2,n/2),o})(f,o,a,s,l))},[f,m,o,a,s,l,u,g,i,r,function(t){tt[t?"unshift":"push"]((()=>{f=t,n(0,f)}))},t=>m(t,"mousemove"),t=>m(t,"click")]}class Va extends Tt{constructor(t){super(),At(this,t,Ra,Wa,s,{width:2,height:3,pixelRatio:4,center:5,contextName:6})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ba,Xa,Ga=(function(t,e){!function(t){function e(t){return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&ie.indexOf(t)>=0}function n(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function r(t){return t>=48&&t<=57}function i(t){return t>=48&&t<=57||43===t||45===t||46===t}function o(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function a(t){for(;t.index<t.max&&e(t.path.charCodeAt(t.index));)t.index++}function s(t){var e,n=t.index,i=n,o=t.max,a=!1,s=!1,l=!1,u=!1;if(i>=o)t.err="SvgPath: missed param (at pos "+i+")";else if(43!==(e=t.path.charCodeAt(i))&&45!==e||(e=++i<o?t.path.charCodeAt(i):0),r(e)||46===e){if(46!==e){if(a=48===e,e=++i<o?t.path.charCodeAt(i):0,a&&i<o&&e&&r(e))return void(t.err="SvgPath: numbers started with `0` such as `09` are ilegal (at pos "+n+")");for(;i<o&&r(t.path.charCodeAt(i));)i++,s=!0;e=i<o?t.path.charCodeAt(i):0}if(46===e){for(u=!0,i++;r(t.path.charCodeAt(i));)i++,l=!0;e=i<o?t.path.charCodeAt(i):0}if(101===e||69===e){if(u&&!s&&!l)return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");if(43!==(e=++i<o?t.path.charCodeAt(i):0)&&45!==e||i++,!(i<o&&r(t.path.charCodeAt(i))))return void(t.err="SvgPath: invalid float exponent (at pos "+i+")");for(;i<o&&r(t.path.charCodeAt(i));)i++}t.index=i,t.param=parseFloat(t.path.slice(n,i))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+i+")"}function l(t){var e,n;n=(e=t.path[t.segmentStart]).toLowerCase();var r=t.data;if("m"===n&&r.length>2&&(t.result.push([e,r[0],r[1]]),r=r.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.result.push([e].concat(r));else for(;r.length>=re[n]&&(t.result.push([e].concat(r.splice(0,re[n]))),re[n]););}function u(t){var e,r,o,u=t.max;if(t.segmentStart=t.index,n(t.path.charCodeAt(t.index)))if(r=re[t.path[t.index].toLowerCase()],t.index++,a(t),t.data=[],r){for(e=!1;;){for(o=r;o>0;o--){if(s(t),t.err.length)return;t.data.push(t.param),a(t),e=!1,t.index<u&&44===t.path.charCodeAt(t.index)&&(t.index++,a(t),e=!0)}if(!e){if(t.index>=t.max)break;if(!i(t.path.charCodeAt(t.index)))break}}l(t)}else l(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}function c(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function h(){if(!(this instanceof h))return new h;this.queue=[],this.cache=null}function f(t,e,n,r){var i=t*r-e*n<0?-1:1,o=(t*n+e*r)/(Math.sqrt(t*t+e*e)*Math.sqrt(t*t+e*e));return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)}function d(t,e,n,r,i,o,a,s,l,u){var c=u*(t-n)/2+l*(e-r)/2,h=-l*(t-n)/2+u*(e-r)/2,d=a*a,p=s*s,g=c*c,m=h*h,v=d*p-d*m-p*g;v<0&&(v=0),v/=d*m+p*g;var y=(v=Math.sqrt(v)*(i===o?-1:1))*a/s*h,x=v*-s/a*c,$=u*y-l*x+(t+n)/2,w=l*y+u*x+(e+r)/2,b=(c-y)/a,_=(h-x)/s,M=(-c-y)/a,k=(-h-x)/s,C=f(1,0,b,_),A=f(b,_,M,k);return 0===o&&A>0&&(A-=he),1===o&&A<0&&(A+=he),[$,w,C,A]}function p(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function g(t,e,n){if(!(this instanceof g))return new g(t,e,n);this.rx=t,this.ry=e,this.ax=n}function m(t){if(!(this instanceof m))return new m(t);var e=oe(t);this.segments=e.segments,this.err=e.err,this.__stack=[]}function v(t){var e=t.match(xe);return e?e.map(Number):[]}function y(t,e,n,r,i,o,a,s){this.a={x:t,y:e},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:s},null!=a&&null!=s?(this.getArcLength=T,this.getPoint=_,this.getDerivative=$):(this.getArcLength=M,this.getPoint=b,this.getDerivative=x),this.init()}function x(t,e,n){return{x:2*(1-n)*(t[1]-t[0])+2*n*(t[2]-t[1]),y:2*(1-n)*(e[1]-e[0])+2*n*(e[2]-e[1])}}function $(t,e,n){return b([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],n)}function w(t,e,n,r,i){for(var o=1,a=t/e,s=(t-n(r,i,a))/e;o>.001;){var l=n(r,i,a+s),u=n(r,i,a-s),c=Math.abs(t-l)/e,h=Math.abs(t-u)/e;c<o?(o=c,a+=s):h<o?(o=h,a-=s):s/=2}return a}function b(t,e,n){return{x:(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2],y:(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2]}}function _(t,e,n){return{x:(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3],y:(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3]}}function M(t,e,n){void 0===n&&(n=1);var r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],a=2*e[1]-2*e[0],s=4*(r*r+i*i),l=4*(r*o+i*a),u=o*o+a*a;if(0===s)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));var c=l/(2*s),h=n+c,f=u/s-c*c;return Math.sqrt(s)/2*(h*Math.sqrt(h*h+f)-c*Math.sqrt(c*c+f)+f*Math.log(Math.abs((h+Math.sqrt(h*h+f))/(c+Math.sqrt(c*c+f)))))}function k(t,e){return _e[t][e]}function C(t,e,n){var r,i,o,a=n.length-1;if(0===a)return 0;if(0===t){for(i=0,o=0;o<=a;o++)i+=k(a,o)*Math.pow(1-e,a-o)*Math.pow(e,o)*n[o];return i}for(r=new Array(a),o=0;o<a;o++)r[o]=a*(n[o+1]-n[o]);return C(t-1,e,r)}function A(t,e,n){var r=C(1,n,t),i=C(1,n,e),o=r*r+i*i;return Math.sqrt(o)}function T(t,e,n){var r,i,o,a;for(void 0===n&&(n=1),r=n/2,i=0,o=0;o<20;o++)a=r*we[20][o]+r,i+=be[20][o]*A(t,e,a);return r*i}function N(t,e,n,r){var i=t*n+e*r;return i>1&&(i=1),i<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}function L(t,e,n,r,i,o,a,s,l,u){var c=u*(t-n)/2+l*(e-r)/2,h=-l*(t-n)/2+u*(e-r)/2,f=a*a,d=s*s,p=c*c,g=h*h,m=f*d-f*g-d*p;m<0&&(m=0),m/=f*g+d*p;var v=(m=Math.sqrt(m)*(i===o?-1:1))*a/s*h,y=m*-s/a*c,x=u*v-l*y+(t+n)/2,$=l*v+u*y+(e+r)/2,w=(c-v)/a,b=(h-y)/s,_=(-c-v)/a,M=(-h-y)/s,k=N(1,0,w,b),C=N(w,b,_,M);return 0===o&&C>0&&(C-=Me),1===o&&C<0&&(C+=Me),[x,$,k,C]}function S(t,e){var n=4/3*Math.tan(e/4),r=Math.cos(t),i=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[r,i,r-i*n,i+r*n,o+a*n,a-o*n,o,a]}function E(t,e,n,r,i,o,a,s,l){var u=0,c=[],h=[];ke(t,e,n,r,i,o,a,s,l).forEach((function(t){var e=new $e(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),n=e.getTotalLength();u+=n,c.push(n),h.push(e)})),this.length=u,this.partialLengths=c,this.curves=h}function F(t,e,n,r){this.x0=t,this.x1=e,this.y0=n,this.y1=r}function q(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function P(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function D(t,e){return q(t,e)<1e-9}function U(t,e,n){var r=t.map((function(t,n){return H(t,e[n])}));return function(t){var e=r.map((function(e){return e(t)}));return n?I(e):e}}function H(t,e){return function(n){return t.map((function(t,r){return t+n*(e[r]-t)}))}}function z(t){return"number"==typeof t&&isFinite(t)}function j(t){return O(t)?ee(t):[(t[0][0]+t[t.length-1][0])/2,(t[0][1]+t[t.length-1][1])/2]}function O(t){for(var e=0;e<t.length-2;e++){var n=t[e],r=t[e+1],i=t[e+2];if(n[0]*(r[1]-i[1])+r[0]*(i[1]-n[1])+i[0]*(n[1]-r[1]))return!0}return!1}function Y(t){return new ge(t).abs()}function Z(t){return t.toString().split("M").map((function(t,e){return t=t.trim(),e&&t?"M"+t:t})).filter((function(t){return t}))}function I(t){return"M"+t.join("L")+"Z"}function W(t){return Z(Y(t))}function R(t,e){var n=Y(t);return V(n)||B(n,e)}function V(t){var e=t.segments||[],n=[];if(!e.length||"M"!==e[0][0])return!1;for(var r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2];if("M"===o&&r||"Z"===o)break;if("M"===o||"L"===o)n.push([a,s]);else if("H"===o)n.push([a,n[n.length-1][1]]);else{if("V"!==o)return!1;n.push([n[n.length-1][0],a])}}return!!n.length&&{ring:n}}function B(t,e){var n,r,i=Z(t)[0],o=[],a=3;if(!i)throw new TypeError(Ne);n=(r=X(i)).getTotalLength(),e&&z(e)&&e>0&&(a=Math.max(a,Math.ceil(n/e)));for(var s=0;s<a;s++){var l=r.getPointAtLength(n*s/a);o.push([l.x,l.y])}return{ring:o,skipBisect:!0}}function X(t){if("undefined"!=typeof window&&window&&window.document)try{var e=window.document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}catch(t){}return Te(t)}function G(t,e){for(var n=t.length+e,r=ne(t)/e,i=0,o=0,a=r/2;t.length<n;){var s=t[i],l=t[(i+1)%t.length],u=q(s,l);a<=o+u?(t.splice(i+1,0,u?P(s,l,(a-o)/u):s.slice(0)),a+=r):(o+=u,i++)}}function Q(t,e){void 0===e&&(e=1/0);for(var n=0;n<t.length;n++)for(var r=t[n],i=n===t.length-1?t[0]:t[n+1];q(r,i)>e;)i=P(r,i,.5),t.splice(n+1,0,i)}function J(t,e){var n,r;if("string"==typeof t){var i=R(t,e);t=i.ring,r=i.skipBisect}else if(!Array.isArray(t))throw new TypeError(Ne);if(!K(n=t.slice(0)))throw new TypeError(Ne);return n.length>1&&D(n[0],n[n.length-1])&&n.pop(),te(n)>0&&n.reverse(),!r&&e&&z(e)&&e>0&&Q(n,e),n}function K(t){return t.every((function(t){return Array.isArray(t)&&t.length>=2&&z(t[0])&&z(t[1])}))}function tt(t,e,n){var r;return G(t,(r=t.length-e.length)<0?-1*r:0),G(e,r>0?r:0),Se(t,e),U(t,e,n)}function et(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,h=c?e[0]*n:t.length,f=nt(t,0,h,n,!0),d=[];if(!f)return d;if(c&&(f=ut(t,e,f,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var p=n;p<h;p+=n)(s=t[p])<r&&(r=s),(l=t[p+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=Math.max(o-r,a-i)}return it(f,d,n,r,i,u),d}function nt(t,e,n,r,i){var o,a;if(i===Nt(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Ct(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Ct(o,t[o],t[o+1],a);return a&&$t(a,a.next)&&(At(a),a=a.next),a}function rt(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!$t(r,r.next)&&0!==xt(r.prev,r,r.next))r=r.next;else{if(At(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function it(t,e,n,r,i,o,a){if(t){!a&&o&&dt(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?at(t,r,i,o):ot(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),At(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?it(t=st(t,e,n),e,n,r,i,o,2):2===a&&lt(t,e,n,r,i,o):it(rt(t),e,n,r,i,o,1);break}}}function ot(t){var e=t.prev,n=t,r=t.next;if(xt(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(vt(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&xt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function at(t,e,n,r){var i=t.prev,o=t,a=t.next;if(xt(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=gt(s,l,e,n,r),f=gt(u,c,e,n,r),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&vt(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&xt(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&vt(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&xt(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function st(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!$t(i,o)&&wt(i,r,r.next,o)&&_t(i,o)&&_t(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),At(r),At(r.next),r=t=o),r=r.next}while(r!==t);return r}function lt(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&yt(a,s)){var l=kt(a,s);return a=rt(a,a.next),l=rt(l,l.next),it(a,e,n,r,i,o),void it(l,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function ut(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=nt(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(mt(a));for(s.sort(ct),i=0;i<s.length;i++)ht(s[i],n),n=rt(n,n.next);return n}function ct(t,e){return t.x-e.x}function ht(t,e){if(e=ft(t,e)){var n=kt(e,t);rt(n,n.next)}}function ft(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&vt(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<f||l===f&&r.x>n.x)&&_t(r,t)&&(n=r,f=l),r=r.next;return n}function dt(t,e,n,r){var i=t;do{null===i.z&&(i.z=gt(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,pt(i)}function pt(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0===s?(i=r,r=r.nextZ,l--):0!==l&&r?n.z<=r.z?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return t}function gt(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function mt(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function vt(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function yt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!bt(t,e)&&_t(t,e)&&_t(e,t)&&Mt(t,e)}function xt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function $t(t,e){return t.x===e.x&&t.y===e.y}function wt(t,e,n,r){return!!($t(t,e)&&$t(n,r)||$t(t,r)&&$t(n,e))||xt(t,e,n)>0!=xt(t,e,r)>0&&xt(n,r,t)>0!=xt(n,r,e)>0}function bt(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&wt(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function _t(t,e){return xt(t.prev,t,t.next)<0?xt(t,e,t.next)>=0&&xt(t,t.prev,e)>=0:xt(t,e,t.prev)<0||xt(t,t.next,e)<0}function Mt(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function kt(t,e){var n=new Tt(t.i,t.x,t.y),r=new Tt(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ct(t,e,n,r){var i=new Tt(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function At(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Tt(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nt(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function Lt(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=St(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function St(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(l(n[r],r));t<0&&De(e,i)}function r(t){return l(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}function s(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(s)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=i(t.arcs);break;case"MultiLineString":e=t.arcs.map(i);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:n,coordinates:e}}var l=Pe(t.transform),u=t.arcs;return s(e)}function Et(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}function Ft(t,e){function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){t.forEach((function(e){e.forEach((function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)}))})),a.push(t)}function i(e){return Et(St(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var o={},a=[],s=[];return e.forEach(n),a.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){o[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),a.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:s.map((function(e){var n,r=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){o[t<0?~t:t].length<2&&r.push(t)}))}))})),(n=(r=He(t,r)).length)>1)for(var a,s,l=1,u=i(r[0]);l<n;++l)(a=i(r[l]))>u&&(s=r[0],r[0]=r[l],r[l]=s,u=a);return r}))}}function qt(t){return function(e,n){return Oe(t(e),n)}}function Pt(t,e){var n={},r={type:"Topology",objects:{triangles:{type:"GeometryCollection",geometries:[]}},arcs:[]};return t.forEach((function(t){var i=[];t.forEach((function(t,o){var a=t[0]<t[1]?t.join(","):t[1]+","+t[0],s=t.map((function(t){return e[t]}));a in n?i.push(~n[a]):(i.push(n[a]=r.arcs.length),r.arcs.push(s))})),r.objects.triangles.geometries.push({type:"Polygon",area:Math.abs(te(t.map((function(t){return e[t[0]]})))),arcs:[i]})})),r.objects.triangles.geometries.sort((function(t,e){return t.area-e.area})),r}function Dt(t,e){for(var n=t.objects.triangles.geometries,r=Ye((function(t){return t.area})).left;n.length>e;)!function(){var e=n[0],i=je(n)[0][0],o=n[i],a=Ft(t,[e,o]);a.area=e.area+o.area,a.type="Polygon",a.arcs=a.arcs[0],n.splice(i,1),n.shift(),n.splice(r(n,a.area),0,a)}();if(e>n.length)throw new RangeError("Can't collapse topology into "+e+" pieces.");return Ue(t,t.objects.triangles).features.map((function(t){return t.geometry.coordinates[0].pop(),t.geometry.coordinates[0]}))}function Ut(t){for(var e=Fe(t.reduce((function(t,e){return t.concat([e[0]],[e[1]])}),[])),n=[],r=0,i=e.length;r<i;r+=3)n.push([[e[r],e[r+1]],[e[r+1],e[r+2]],[e[r+2],e[r]]]);return n}function Ht(t,e,n){function r(t,e,a){void 0===e&&(e=[]),void 0===a&&(a=0);for(var s=0;s<t.length;s++){var l=t.splice(s,1),u=n[l[0]][e.length];a+u<i&&(t.length?r(t.slice(),e.concat(l),a+u):(i=a+u,o=e.concat(l))),t.length&&t.splice(s,0,l[0])}}var i=1/0,o=t.map((function(t,e){return e}));return r(o),o}function zt(t,e){var n=q(j(t),j(e));return n*n}function jt(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=n.single;void 0===o&&(o=!1);var a=J(t,r);a.length<e.length+2&&G(a,e.length+2-a.length);var s,l=Ze(a,e.length),u=e.map((function(t){return J(t,r)})),c="string"==typeof t&&t;return o&&!e.every((function(t){return"string"==typeof t}))||(s=e.slice(0)),Zt(l,u,{match:!0,string:i,single:o,t0:c,t1:s})}function Ot(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=n.single;void 0===o&&(o=!1);var a=jt(e,t,{maxSegmentLength:r,string:i,single:o});return o?function(t){return a(1-t)}:a.map((function(t){return function(e){return t(1-e)}}))}function Yt(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=n.single;if(void 0===o&&(o=!1),!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length||!t.length)throw new TypeError(Le);var a,s,l=function(t){return J(t,r)},u=t.map(l),c=e.map(l);return o?(t.every((function(t){return"string"==typeof t}))&&(a=t.slice(0)),e.every((function(t){return"string"==typeof t}))&&(s=e.slice(0))):(a=t.slice(0),s=e.slice(0)),Zt(u,c,{string:i,single:o,t0:a,t1:s,match:!1})}function Zt(t,e,n){void 0===n&&(n={});var r=n.string,i=n.single,o=n.t0,a=n.t1,s=n.match,l=s?Ie(t,e):t.map((function(t,e){return e})),u=l.map((function(n,i){return tt(t[n],e[i],r)}));if(s&&Array.isArray(o)&&(o=l.map((function(t){return o[t]}))),i&&r&&(Array.isArray(o)&&(o=o.join(" ")),Array.isArray(a)&&(a=a.join(" "))),i){var c=r?function(t){return u.map((function(e){return e(t)})).join(" ")}:function(t){return u.map((function(e){return e(t)}))};return r&&(o||a)?function(t){return t<1e-4&&o||1-t<1e-4&&a||c(t)}:c}return r?(o=Array.isArray(o)?o.map((function(t){return"string"==typeof t&&t})):[],a=Array.isArray(a)?a.map((function(t){return"string"==typeof t&&t})):[],u.map((function(t,e){return o[e]||a[e]?function(n){return n<1e-4&&o[e]||1-n<1e-4&&a[e]||t(n)}:t}))):u}function It(t,e,n,r,i){return Bt(Xt(t,e,n),r,Jt(t,e,n),2*Math.PI*n,i)}function Wt(t,e,n,r,i){var o=It(e,n,r,t,i);return function(t){return o(1-t)}}function Rt(t,e,n,r,i,o){return Bt(Gt(t,e,n,r),i,Kt(t,e,n,r),2*n+2*r,o)}function Vt(t,e,n,r,i,o){var a=Rt(e,n,r,i,t,o);return function(t){return a(1-t)}}function Bt(t,e,n,r,i){void 0===i&&(i={});var o=i.maxSegmentLength;void 0===o&&(o=10);var a=i.string;void 0===a&&(a=!0);var s,l,u=J(e,o);return z(r)&&u.length<r/o&&G(u,Math.ceil(r/o-u.length)),s=t(u),l=U(s,u,a),a?function(t){return t<1e-4?n:l(t)}:l}function Xt(t,e,n){return function(r){var i=j(r),o=ne(r.concat([r[0]])),a=Math.atan2(r[0][1]-i[1],r[0][0]-i[0]),s=0;return r.map((function(i,l){var u;return l&&(s+=q(i,r[l-1])),u=a+2*Math.PI*(o?s/o:l/r.length),[Math.cos(u)*n+t,Math.sin(u)*n+e]}))}}function Gt(t,e,n,r){return function(i){var o=j(i),a=ne(i.concat([i[0]])),s=Math.atan2(i[0][1]-o[1],i[0][0]-o[0]),l=0;s<0&&(s=2*Math.PI+s);var u=s/(2*Math.PI);return i.map((function(o,s){s&&(l+=q(o,i[s-1]));var c=Qt((u+(a?l/a:s/i.length))%1);return[t+c[0]*n,e+c[1]*r]}))}}function Qt(t){return t<=1/8?[1,.5+4*t]:t<=3/8?[1.5-4*t,1]:t<=5/8?[0,2.5-4*t]:t<=7/8?[4*t-2.5,0]:[1,4*t-3.5]}function Jt(t,e,n){var r=t-n+","+e,i="A"+n+","+n+",0,1,1,";return"M"+r+i+(t+n)+","+e+i+r+"Z"}function Kt(t,e,n,r){var i=t+n,o=e+r;return"M"+t+","+e+"L"+i+","+e+"L"+i+","+o+"L"+t+","+o+"Z"}var te=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},ee=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(l*=3),a/l]},ne=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],l=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],l+=Math.sqrt(e*e+n*n);return l},re={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},ie=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],oe=function(t){var e=new o(t),n=e.max;for(a(e);e.index<n&&!e.err.length;)u(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}};h.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},h.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},h.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},h.prototype.rotate=function(t,e,n){var r,i,o;return 0!==t&&(this.translate(e,n),r=t*Math.PI/180,i=Math.cos(r),o=Math.sin(r),this.queue.push([i,o,-o,i,0,0]),this.cache=null,this.translate(-e,-n)),this},h.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},h.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},h.prototype.toArray=function(){var t=this;if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var e=1;e<this.queue.length;e++)t.cache=c(t.cache,t.queue[e]);return this.cache},h.prototype.calc=function(t,e,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(r=this.cache)[0]+e*r[2]+(n?0:r[4]),t*r[1]+e*r[3]+(n?0:r[5])]):[t,e]};var ae=h,se={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},le=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,ue=/[\s,]+/,ce=function(t){var e,n,r=new ae;return t.split(le).forEach((function(t){if(t.length){if(void 0!==se[t])return void(e=t);switch(n=t.split(ue).map((function(t){return+t||0})),e){case"matrix":return void(6===n.length&&r.matrix(n));case"scale":return void(1===n.length?r.scale(n[0],n[0]):2===n.length&&r.scale(n[0],n[1]));case"rotate":return void(1===n.length?r.rotate(n[0],0,0):3===n.length&&r.rotate(n[0],n[1],n[2]));case"translate":return void(1===n.length?r.translate(n[0],0):2===n.length&&r.translate(n[0],n[1]));case"skewX":return void(1===n.length&&r.skewX(n[0]));case"skewY":return void(1===n.length&&r.skewY(n[0]))}}})),r},he=2*Math.PI,fe=function(t,e,n,r,i,o,a,s,l){var u=Math.sin(l*he/360),c=Math.cos(l*he/360),h=c*(t-n)/2+u*(e-r)/2,f=-u*(t-n)/2+c*(e-r)/2;if(0===h&&0===f)return[];if(0===a||0===s)return[];a=Math.abs(a),s=Math.abs(s);var g=h*h/(a*a)+f*f/(s*s);g>1&&(a*=Math.sqrt(g),s*=Math.sqrt(g));var m=d(t,e,n,r,i,o,a,s,u,c),v=[],y=m[2],x=m[3],$=Math.max(Math.ceil(Math.abs(x)/(he/4)),1);x/=$;for(var w=0;w<$;w++)v.push(p(y,x)),y+=x;return v.map((function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=c*(n*=a)-u*(r*=s),o=u*n+c*r;t[e+0]=i+m[0],t[e+1]=o+m[1]}return t}))},de=Math.PI/180;g.prototype.transform=function(t){var e=Math.cos(this.ax*de),n=Math.sin(this.ax*de),r=[this.rx*(t[0]*e+t[2]*n),this.rx*(t[1]*e+t[3]*n),this.ry*(-t[0]*n+t[2]*e),this.ry*(-t[1]*n+t[3]*e)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],a=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),s=(i+o)/2;if(a<1e-10*s)return this.rx=this.ry=Math.sqrt(s),this.ax=0,this;var l=r[0]*r[1]+r[2]*r[3],u=s+(a=Math.sqrt(a))/2,c=s-a/2;return this.ax=Math.abs(l)<1e-10&&Math.abs(u-o)<1e-10?90:180*Math.atan(Math.abs(l)>Math.abs(u-o)?(u-i)/l:l/(u-o))/Math.PI,this.ax>=0?(this.rx=Math.sqrt(u),this.ry=Math.sqrt(c)):(this.ax+=90,this.rx=Math.sqrt(c),this.ry=Math.sqrt(u)),this},g.prototype.isDegenerate=function(){return this.rx<1e-10*this.ry||this.ry<1e-10*this.rx};var pe=g;m.prototype.__matrix=function(t){var e,n=this;t.queue.length&&this.iterate((function(r,i,o,a){var s,l,u,c;switch(r[0]){case"v":l=0===(s=t.calc(0,r[1],!0))[0]?["v",s[1]]:["l",s[0],s[1]];break;case"V":l=(s=t.calc(o,r[1],!1))[0]===t.calc(o,a,!1)[0]?["V",s[1]]:["L",s[0],s[1]];break;case"h":l=0===(s=t.calc(r[1],0,!0))[1]?["h",s[0]]:["l",s[0],s[1]];break;case"H":l=(s=t.calc(r[1],a,!1))[1]===t.calc(o,a,!1)[1]?["H",s[0]]:["L",s[0],s[1]];break;case"a":case"A":var h=t.toArray(),f=pe(r[1],r[2],r[3]).transform(h);if(h[0]*h[3]-h[1]*h[2]<0&&(r[5]=r[5]?"0":"1"),s=t.calc(r[6],r[7],"a"===r[0]),"A"===r[0]&&r[6]===o&&r[7]===a||"a"===r[0]&&0===r[6]&&0===r[7]){l=["a"===r[0]?"l":"L",s[0],s[1]];break}l=f.isDegenerate()?["a"===r[0]?"l":"L",s[0],s[1]]:[r[0],f.rx,f.ry,f.ax,r[4],r[5],s[0],s[1]];break;case"m":c=i>0,l=["m",(s=t.calc(r[1],r[2],c))[0],s[1]];break;default:for(l=[u=r[0]],c=u.toLowerCase()===u,e=1;e<r.length;e+=2)s=t.calc(r[e],r[e+1],c),l.push(s[0],s[1])}n.segments[i]=l}),!0)},m.prototype.__evaluateStack=function(){var t,e,n=this;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=ae(),e=this.__stack.length;--e>=0;)t.matrix(n.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},m.prototype.toString=function(){var t,e,n=this,r=[];this.__evaluateStack();for(var i=0;i<this.segments.length;i++)e=n.segments[i][0],t=i>0&&"m"!==e&&"M"!==e&&e===n.segments[i-1][0],r=r.concat(t?n.segments[i].slice(1):n.segments[i]);return r.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},m.prototype.translate=function(t,e){return this.__stack.push(ae().translate(t,e||0)),this},m.prototype.scale=function(t,e){return this.__stack.push(ae().scale(t,e||0===e?e:t)),this},m.prototype.rotate=function(t,e,n){return this.__stack.push(ae().rotate(t,e||0,n||0)),this},m.prototype.skewX=function(t){return this.__stack.push(ae().skewX(t)),this},m.prototype.skewY=function(t){return this.__stack.push(ae().skewY(t)),this},m.prototype.matrix=function(t){return this.__stack.push(ae().matrix(t)),this},m.prototype.transform=function(t){return t.trim()?(this.__stack.push(ce(t)),this):this},m.prototype.round=function(t){var e,n=0,r=0,i=0,o=0;return t=t||0,this.__evaluateStack(),this.segments.forEach((function(a){var s=a[0].toLowerCase()===a[0];switch(a[0]){case"H":case"h":return s&&(a[1]+=i),i=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"V":case"v":return s&&(a[1]+=o),o=a[1]-a[1].toFixed(t),void(a[1]=+a[1].toFixed(t));case"Z":case"z":return i=n,void(o=r);case"M":case"m":return s&&(a[1]+=i,a[2]+=o),i=a[1]-a[1].toFixed(t),o=a[2]-a[2].toFixed(t),n=i,r=o,a[1]=+a[1].toFixed(t),void(a[2]=+a[2].toFixed(t));case"A":case"a":return s&&(a[6]+=i,a[7]+=o),i=a[6]-a[6].toFixed(t),o=a[7]-a[7].toFixed(t),a[1]=+a[1].toFixed(t),a[2]=+a[2].toFixed(t),a[3]=+a[3].toFixed(t+2),a[6]=+a[6].toFixed(t),void(a[7]=+a[7].toFixed(t));default:return e=a.length,s&&(a[e-2]+=i,a[e-1]+=o),i=a[e-2]-a[e-2].toFixed(t),o=a[e-1]-a[e-1].toFixed(t),void a.forEach((function(e,n){n&&(a[n]=+a[n].toFixed(t))}))}})),this},m.prototype.iterate=function(t,e){var n,r,i,o=this.segments,a={},s=!1,l=0,u=0,c=0,h=0;if(e||this.__evaluateStack(),o.forEach((function(e,n){var r=t(e,n,l,u);Array.isArray(r)&&(a[n]=r,s=!0);var i=e[0]===e[0].toLowerCase();switch(e[0]){case"m":case"M":return l=e[1]+(i?l:0),u=e[2]+(i?u:0),c=l,void(h=u);case"h":case"H":return void(l=e[1]+(i?l:0));case"v":case"V":return void(u=e[1]+(i?u:0));case"z":case"Z":return l=c,void(u=h);default:l=e[e.length-2]+(i?l:0),u=e[e.length-1]+(i?u:0)}})),!s)return this;for(i=[],n=0;n<o.length;n++)if(void 0!==a[n])for(r=0;r<a[n].length;r++)i.push(a[n][r]);else i.push(o[n]);return this.segments=i,this},m.prototype.abs=function(){return this.iterate((function(t,e,n,r){var i,o=t[0],a=o.toUpperCase();if(o!==a)switch(t[0]=a,o){case"v":return void(t[1]+=r);case"a":return t[6]+=n,void(t[7]+=r);default:for(i=1;i<t.length;i++)t[i]+=i%2?n:r}}),!0),this},m.prototype.rel=function(){return this.iterate((function(t,e,n,r){var i,o=t[0],a=o.toLowerCase();if(o!==a&&(0!==e||"M"!==o))switch(t[0]=a,o){case"V":return void(t[1]-=r);case"A":return t[6]-=n,void(t[7]-=r);default:for(i=1;i<t.length;i++)t[i]-=i%2?n:r}}),!0),this},m.prototype.unarc=function(){return this.iterate((function(t,e,n,r){var i,o,a,s=[],l=t[0];return"A"!==l&&"a"!==l?null:("a"===l?(o=n+t[6],a=r+t[7]):(o=t[6],a=t[7]),0===(i=fe(n,r,o,a,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(i.forEach((function(t){s.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])})),s))})),this},m.prototype.unshort=function(){var t,e,n,r,i,o=this.segments;return this.iterate((function(a,s,l,u){var c,h=a[0],f=h.toUpperCase();s&&("T"===f?(c="t"===h,"Q"===(n=o[s-1])[0]?(t=n[1]-l,e=n[2]-u):"q"===n[0]?(t=n[1]-n[3],e=n[2]-n[4]):(t=0,e=0),r=-t,i=-e,c||(r+=l,i+=u),o[s]=[c?"q":"Q",r,i,a[1],a[2]]):"S"===f&&(c="s"===h,"C"===(n=o[s-1])[0]?(t=n[3]-l,e=n[4]-u):"c"===n[0]?(t=n[3]-n[5],e=n[4]-n[6]):(t=0,e=0),r=-t,i=-e,c||(r+=l,i+=u),o[s]=[c?"c":"C",r,i,a[1],a[2],a[3],a[4]]))})),this};var ge=m,me={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ve=/([astvzqmhlc])([^astvzqmhlc]*)/gi,ye=function(t){var e=[];return t.replace(ve,(function(t,n,r){var i=n.toLowerCase();for(r=v(r),"m"===i&&r.length>2&&(e.push([n].concat(r.splice(0,2))),i="l",n="m"===n?"l":"L");r.length>=0;){if(r.length===me[i])return r.unshift(n),e.push(r);if(r.length<me[i])throw new Error("malformed path data");e.push([n].concat(r.splice(0,me[i])))}})),e},xe=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,$e=function(t,e,n,r,i,o,a,s){return new y(t,e,n,r,i,o,a,s)};y.prototype={constructor:y,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){var e=w(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e)},getTangentAtLength:function(t){var e=w(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),r=Math.sqrt(n.x*n.x+n.y*n.y);return r>0?{x:n.x/r,y:n.y/r}:{x:0,y:0}},getPropertiesAtLength:function(t){var e,n=w(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),r=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n),i=Math.sqrt(r.x*r.x+r.y*r.y);e=i>0?{x:r.x/i,y:r.y/i}:{x:0,y:0};var o=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],n);return{x:o.x,y:o.y,tangentX:e.x,tangentY:e.y}}};var we=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],be=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],_e=[[1],[1,1],[1,2,1],[1,3,3,1]],Me=2*Math.PI,ke=function(t,e,n,r,i,o,a,s,l){var u=Math.sin(i*Me/360),c=Math.cos(i*Me/360),h=c*(t-s)/2+u*(e-l)/2,f=-u*(t-s)/2+c*(e-l)/2;if(0===h&&0===f)return[];if(0===n||0===r)return[];n=Math.abs(n),r=Math.abs(r);var d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=L(t,e,s,l,o,a,n,r,u,c),g=[],m=p[2],v=p[3],y=Math.max(Math.ceil(Math.abs(v)/(Me/4)),1);v/=y;for(var x=0;x<y;x++)g.push(S(m,v)),m+=v;return g.map((function(t){for(var e=0;e<t.length;e+=2){var i=t[e+0],o=t[e+1],a=c*(i*=n)-u*(o*=r),s=u*i+c*o;t[e+0]=a+p[0],t[e+1]=s+p[1]}return t}))},Ce=function(t,e,n,r,i,o,a,s,l){return new E(t,e,n,r,i,o,a,s,l)};E.prototype={constructor:E,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){var e=this;t<0?t=0:t>this.length&&(t=this.length);for(var n=this.partialLengths.length-1;this.partialLengths[n]>=t&&this.partialLengths[n]>0;)n--;n<this.partialLengths.length-1&&n++;for(var r=0,i=0;i<n;i++)r+=e.partialLengths[i];return this.curves[n].getPointAtLength(t-r)},getTangentAtLength:function(t){var e=this;t<0?t=0:t>this.length&&(t=this.length);for(var n=this.partialLengths.length-1;this.partialLengths[n]>=t&&this.partialLengths[n]>0;)n--;n<this.partialLengths.length-1&&n++;for(var r=0,i=0;i<n;i++)r+=e.partialLengths[i];return this.curves[n].getTangentAtLength(t-r)},getPropertiesAtLength:function(t){var e=this.getTangentAtLength(t),n=this.getPointAtLength(t);return{x:n.x,y:n.y,tangentX:e.x,tangentY:e.y}}};var Ae=function(t,e,n,r){return new F(t,e,n,r)};F.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},F.prototype.getPointAtLength=function(t){var e=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),n=(this.x1-this.x0)*e,r=(this.y1-this.y0)*e;return{x:this.x0+n,y:this.y0+r}},F.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},F.prototype.getPropertiesAtLength=function(t){var e=this.getPointAtLength(t),n=this.getTangentAtLength();return{x:e.x,y:e.y,tangentX:n.x,tangentY:n.y}};var Te=function(t){function e(t){if(!t)return null;for(var o,a=ye(t),s=[0,0],l=[0,0],u=0;u<a.length;u++)"M"===a[u][0]?(s=[a[u][1],a[u][2]],i.push(null)):"m"===a[u][0]?(s=[a[u][1]+s[0],a[u][2]+s[1]],i.push(null)):"L"===a[u][0]?(n+=Math.sqrt(Math.pow(s[0]-a[u][1],2)+Math.pow(s[1]-a[u][2],2)),i.push(new Ae(s[0],a[u][1],s[1],a[u][2])),s=[a[u][1],a[u][2]]):"l"===a[u][0]?(n+=Math.sqrt(Math.pow(a[u][1],2)+Math.pow(a[u][2],2)),i.push(new Ae(s[0],a[u][1]+s[0],s[1],a[u][2]+s[1])),s=[a[u][1]+s[0],a[u][2]+s[1]]):"H"===a[u][0]?(n+=Math.abs(s[0]-a[u][1]),i.push(new Ae(s[0],a[u][1],s[1],s[1])),s[0]=a[u][1]):"h"===a[u][0]?(n+=Math.abs(a[u][1]),i.push(new Ae(s[0],s[0]+a[u][1],s[1],s[1])),s[0]=a[u][1]+s[0]):"V"===a[u][0]?(n+=Math.abs(s[1]-a[u][1]),i.push(new Ae(s[0],s[0],s[1],a[u][1])),s[1]=a[u][1]):"v"===a[u][0]?(n+=Math.abs(a[u][1]),i.push(new Ae(s[0],s[0],s[1],s[1]+a[u][1])),s[1]=a[u][1]+s[1]):"z"===a[u][0]||"Z"===a[u][0]?(n+=Math.sqrt(Math.pow(a[0][1]-s[0],2)+Math.pow(a[0][2]-s[1],2)),i.push(new Ae(s[0],a[0][1],s[1],a[0][2])),s=[a[0][1],a[0][2]]):"C"===a[u][0]?(o=new $e(s[0],s[1],a[u][1],a[u][2],a[u][3],a[u][4],a[u][5],a[u][6]),n+=o.getTotalLength(),s=[a[u][5],a[u][6]],i.push(o)):"c"===a[u][0]?(o=new $e(s[0],s[1],s[0]+a[u][1],s[1]+a[u][2],s[0]+a[u][3],s[1]+a[u][4],s[0]+a[u][5],s[1]+a[u][6]),n+=o.getTotalLength(),s=[a[u][5]+s[0],a[u][6]+s[1]],i.push(o)):"S"===a[u][0]?(o=u>0&&["C","c","S","s"].indexOf(a[u-1][0])>-1?new $e(s[0],s[1],2*s[0]-a[u-1][a[u-1].length-4],2*s[1]-a[u-1][a[u-1].length-3],a[u][1],a[u][2],a[u][3],a[u][4]):new $e(s[0],s[1],s[0],s[1],a[u][1],a[u][2],a[u][3],a[u][4]),n+=o.getTotalLength(),s=[a[u][3],a[u][4]],i.push(o)):"s"===a[u][0]?(o=u>0&&["C","c","S","s"].indexOf(a[u-1][0])>-1?new $e(s[0],s[1],s[0]+o.d.x-o.c.x,s[1]+o.d.y-o.c.y,s[0]+a[u][1],s[1]+a[u][2],s[0]+a[u][3],s[1]+a[u][4]):new $e(s[0],s[1],s[0],s[1],s[0]+a[u][1],s[1]+a[u][2],s[0]+a[u][3],s[1]+a[u][4]),n+=o.getTotalLength(),s=[a[u][3]+s[0],a[u][4]+s[1]],i.push(o)):"Q"===a[u][0]?(o=new $e(s[0],s[1],a[u][1],a[u][2],a[u][3],a[u][4]),n+=o.getTotalLength(),i.push(o),s=[a[u][3],a[u][4]],l=[a[u][1],a[u][2]]):"q"===a[u][0]?(o=new $e(s[0],s[1],s[0]+a[u][1],s[1]+a[u][2],s[0]+a[u][3],s[1]+a[u][4]),n+=o.getTotalLength(),l=[s[0]+a[u][1],s[1]+a[u][2]],s=[a[u][3]+s[0],a[u][4]+s[1]],i.push(o)):"T"===a[u][0]?(o=u>0&&["Q","q","T","t"].indexOf(a[u-1][0])>-1?new $e(s[0],s[1],2*s[0]-l[0],2*s[1]-l[1],a[u][1],a[u][2]):new Ae(s[0],a[u][1],s[1],a[u][2]),i.push(o),n+=o.getTotalLength(),l=[2*s[0]-l[0],2*s[1]-l[1]],s=[a[u][1],a[u][2]]):"t"===a[u][0]?(o=u>0&&["Q","q","T","t"].indexOf(a[u-1][0])>-1?new $e(s[0],s[1],2*s[0]-l[0],2*s[1]-l[1],s[0]+a[u][1],s[1]+a[u][2]):new Ae(s[0],s[0]+a[u][1],s[1],s[1]+a[u][2]),n+=o.getTotalLength(),l=[2*s[0]-l[0],2*s[1]-l[1]],s=[a[u][1]+s[0],a[u][2]+s[0]],i.push(o)):"A"===a[u][0]?(o=new Ce(s[0],s[1],a[u][1],a[u][2],a[u][3],a[u][4],a[u][5],a[u][6],a[u][7]),n+=o.getTotalLength(),s=[a[u][6],a[u][7]],i.push(o)):"a"===a[u][0]&&(o=new Ce(s[0],s[1],a[u][1],a[u][2],a[u][3],a[u][4],a[u][5],s[0]+a[u][6],s[1]+a[u][7]),n+=o.getTotalLength(),s=[s[0]+a[u][6],s[1]+a[u][7]],i.push(o)),r.push(n);return e}var n=0,r=[],i=[];e.getTotalLength=function(){return n},e.getPointAtLength=function(t){var e=o(t);return i[e.i].getPointAtLength(e.fraction)},e.getTangentAtLength=function(t){var e=o(t);return i[e.i].getTangentAtLength(e.fraction)},e.getPropertiesAtLength=function(t){var e=o(t);return i[e.i].getPropertiesAtLength(e.fraction)};var o=function(t){t<0?t=0:t>n&&(t=n);for(var e=r.length-1;r[e]>=t&&r[e]>0;)e--;return e++,{fraction:t-r[e-1],i:e}};return e(t)},Ne='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\nExample valid ways of supplying a shape would be:\n[[0, 0], [10, 0], [10, 10]]\n"M0,0 L10,0 L10,10Z"\n',Le="flubber.all() expects two arrays of equal length as arguments. Each element in both arrays should be an array of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).",Se=function(t,e){for(var n,r,i,o=t.length,a=1/0,s=0;s<o;s++)!function(i){r=0,e.forEach((function(e,n){var a=q(t[(i+n)%o],e);r+=a*a})),r<a&&(a=r,n=i)}(s);n&&(i=t.splice(0,n),t.splice.apply(t,[t.length,0].concat(i)))},Ee=function(t,e,n){void 0===n&&(n={});var r=n.maxSegmentLength;void 0===r&&(r=10);var i=n.string;void 0===i&&(i=!0);var o=tt(J(t,r),J(e,r),i);return!i||"string"!=typeof t&&"string"!=typeof e?o:function(n){return n<1e-4&&"string"==typeof t?t:1-n<1e-4&&"string"==typeof e?e:o(n)}},Fe=et;et.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(Nt(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(Nt(t,u,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},et.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var qe=function(t){return t},Pe=function(t){if(null==t)return qe;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var l=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;l<u;)c[l]=t[l],++l;return c}},De=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},Ue=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return Lt(t,e)}))}:Lt(t,e)},He=function(t,e){function n(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach((function(t){i[t<0?~t:t]=1})),s.push(r)}}var i={},o={},a={},s=[],l=-1;return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++l],e[l]=n,e[r]=i)})),e.forEach((function(t){var e,r,i=n(t),s=i[0],l=i[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=l,r=o[l]){delete o[r.start];var u=r===e?e:e.concat(r);o[u.start=e.start]=a[u.end=r.end]=u}else o[e.start]=a[e.end]=e;else if(e=o[l])if(delete o[e.start],e.unshift(t),e.start=s,r=a[s]){delete a[r.end];var c=r===e?e:r.concat(e);o[c.start=r.start]=a[c.end=e.end]=c}else o[e.start]=a[e.end]=e;else o[(e=[t]).start=s]=a[e.end=l]=e})),r(a,o),r(o,a),e.forEach((function(t){i[t<0?~t:t]||s.push([t])})),s},ze=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n},je=function(t){function e(t,e){t.forEach((function(t){t<0&&(t=~t);var n=i[t];n?n.push(e):i[t]=[e]}))}function n(t,n){t.forEach((function(t){e(t,n)}))}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach((function(t){r(t,e)})):t.type in a&&a[t.type](t.arcs,e)}var i={},o=t.map((function(){return[]})),a={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach((function(t){n(t,e)}))}};for(var s in t.forEach(r),i)for(var l=i[s],u=l.length,c=0;c<u;++c)for(var h=c+1;h<u;++h){var f,d=l[c],p=l[h];(f=o[d])[s=ze(f,p)]!==p&&f.splice(s,0,p),(f=o[p])[s=ze(f,d)]!==d&&f.splice(s,0,d)}return o},Oe=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Ye=function(t){return 1===t.length&&(t=qt(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},Ze=(Ye(Oe),function(t,e){return Dt(Pt(Ut(t),t),e)}),Ie=function(t,e){if(t.length>8)return t.map((function(t,e){return e}));var n=t.map((function(t){return e.map((function(e){return zt(t,e)}))}));return Ht(t,e,n)};t.interpolate=Ee,t.separate=jt,t.combine=Ot,t.interpolateAll=Yt,t.splitPathString=W,t.toPathString=I,t.fromCircle=It,t.toCircle=Wt,t.fromRect=Rt,t.toRect=Vt,Object.defineProperty(t,"__esModule",{value:!0})}(e)}(Xa={path:Ba,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&Xa.path)}},Xa.exports),Xa.exports);function Qa(t,e,n){let r,i,o,a,s,{d:l={}}=e,{startX:c=0}=e,{startY:h=0}=e,{fillBackgroundColor:f="#FFFFFF"}=e,{startOpacity:d=.9}=e,{strokeColor:p="#FFFFFF"}=e,{selectColor:g="#000000"}=e,{hovered:m=!1}=e,{labelHovered:v=!1}=e,{anyHovered:y=!1}=e;const{register:x,deregister:$,invalidate:w}=(b="canvas",B().$$.context.get(b));var b;const _=400*Math.random()+800,M=Math.min(1,Math.max(Math.random(),.5)),k=Er().domain([1,0]).range([.3,.9]);let C=Sa(c,{duration:_,easing:Ta});u(t,C,(t=>n(16,i=t)));let A=Sa(h,{duration:_,easing:Ta});u(t,A,(t=>n(17,o=t)));let T=Sa(null,{duration:_,easing:Ta,interpolate:Ga.interpolate});u(t,T,(t=>n(15,r=t)));let N=Sa(null,{duration:_,easing:Ta,interpolate:an});u(t,N,(t=>n(19,s=t)));let L=Sa(d,{duration:_,easing:Ta});function S(t){if(!r)return;const e=new Path2D(r);t.globalAlpha=1,t.translate(i,o),t.beginPath(),t.fillStyle=f,t.fill(e),t.globalAlpha=.9,t.strokeStyle=p,t.lineWidth=1,t.stroke(e),t.globalAlpha=a,t.fillStyle=s,t.fill(e)}return u(t,L,(t=>n(18,a=t))),X((()=>(x(S),w(),()=>{$(S)}))),function(t){B().$$.after_update.push(t)}(w),G(w),t.$$set=t=>{"d"in t&&n(5,l=t.d),"startX"in t&&n(6,c=t.startX),"startY"in t&&n(7,h=t.startY),"fillBackgroundColor"in t&&n(8,f=t.fillBackgroundColor),"startOpacity"in t&&n(9,d=t.startOpacity),"strokeColor"in t&&n(10,p=t.strokeColor),"selectColor"in t&&n(11,g=t.selectColor),"hovered"in t&&n(12,m=t.hovered),"labelHovered"in t&&n(13,v=t.labelHovered),"anyHovered"in t&&n(14,y=t.anyHovered)},t.$$.update=()=>{if(32&t.$$.dirty&&T.set(l.path),32&t.$$.dirty&&C.set(l.x),32&t.$$.dirty&&A.set(l.y),6176&t.$$.dirty&&N.set(m?g:l.color),24608&t.$$.dirty){let t=k(M*l.withinClusterIndex/l.cluster.length);v&&(t=1),y&&!v&&(t=.2),L.set(t)}},[C,A,T,N,L,l,c,h,f,d,p,g,m,v,y]}class Ja extends Tt{constructor(t){super(),At(this,t,Qa,null,s,{d:5,startX:6,startY:7,fillBackgroundColor:8,startOpacity:9,strokeColor:10,selectColor:11,hovered:12,labelHovered:13,anyHovered:14})}}function Ka(t,e,n){const r=t.slice();return r[12]=e[n],r}function ts(t,e){let n,r,i;return r=new Ja({props:{d:e[12],startX:Math.random()*e[0]-e[0]/2,startY:Math.random()*e[1]-e[1]/2,strokeColor:"#FFFFFF",selectColor:Co,hovered:e[3]&&e[3].d.id===e[12].id,labelHovered:e[4]&&e[4].value.includes(e[12][e[4].name]),anyHovered:e[4]}}),{key:t,first:null,c(){n=L(),_t(r.$$.fragment),this.first=n},m(t,e){_(t,n,e),Mt(r,t,e),i=!0},p(t,n){e=t;const i={};4&n&&(i.d=e[12]),1&n&&(i.startX=Math.random()*e[0]-e[0]/2),2&n&&(i.startY=Math.random()*e[1]-e[1]/2),12&n&&(i.hovered=e[3]&&e[3].d.id===e[12].id),20&n&&(i.labelHovered=e[4]&&e[4].value.includes(e[12][e[4].name])),16&n&&(i.anyHovered=e[4]),r.$set(i)},i(t){i||(mt(r.$$.fragment,t),i=!0)},o(t){vt(r.$$.fragment,t),i=!1},d(t){t&&M(n),kt(r,t)}}}function es(t){let e,n,r=[],i=new Map,o=t[2];const a=t=>t[12].id;for(let e=0;e<o.length;e+=1){let n=Ka(t,o,e),s=a(n);i.set(s,r[e]=ts(s,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=L()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);_(t,e,i),n=!0},p(t,n){31&n&&(o=t[2],pt(),r=wt(r,n,a,1,t,o,i,e.parentNode,$t,ts,e,Ka),gt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)mt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)vt(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&M(e)}}}function ns(t){let e,n,r,i;return n=new Va({props:{width:t[0],height:t[1],$$slots:{default:[es]},$$scope:{ctx:t}}}),n.$on("mousemove",t[5]),n.$on("click",t[6]),{c(){e=C("div"),_t(n.$$.fragment),F(e,"class","canvas-pane-wrapper svelte-1y41ma7"),ot((()=>t[10].call(e))),j(e,"hovered",t[3])},m(o,a){_(o,e,a),Mt(n,e,null),r=z(e,t[10].bind(e)),i=!0},p(t,[r]){const i={};1&r&&(i.width=t[0]),2&r&&(i.height=t[1]),32799&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i),8&r&&j(e,"hovered",t[3])},i(t){i||(mt(n.$$.fragment,t),i=!0)},o(t){vt(n.$$.fragment,t),i=!1},d(t){t&&M(e),kt(n),r()}}}function rs(t,e,n){let r,i,o,a;u(t,Po,(t=>n(8,r=t))),u(t,ta,(t=>n(9,i=t))),u(t,Ko,(t=>n(3,o=t))),u(t,ea,(t=>n(4,a=t)));let{data:s=[]}=e,l=0,c=0,h=[];function f(t,e){const n=s.map((n=>{const r=n.delaunay.find(t-n.x,e-n.y),i=n.data[r];return{d:i,clusterId:n.id,pos:{x:i.x+n.xAbsolute,y:i.y+n.yAbsolute}}})).find((t=>t&&t.d.draw));return n||null}return t.$$set=t=>{"data"in t&&n(7,s=t.data)},t.$$.update=()=>{if(899&t.$$.dirty){let t=[];s.forEach((e=>{e.data.forEach((n=>{if(n.draw){const[i,o,a]=Ia(n.voronoiPath);t=[...t,{...n,cluster:e,color:Lo(n,r.find((t=>t.selected))),path:i,x:e.x+o,y:e.y+a}]}}))})),i&&Go(t,l,c).then((e=>t=e)),n(2,h=t)}},[l,c,h,o,a,function(t){const{detail:{x:e,y:n}={}}=t||{},r=f(e,n);Ko.set(r)},function(t){const{detail:{x:e,y:n}}=t,r=f(e,n);ta.set(r)},s,r,i,function(){l=this.clientWidth,c=this.clientHeight,n(0,l),n(1,c)}]}class is extends Tt{constructor(t){super(),At(this,t,rs,ns,s,{data:7})}}function os(e){let n,r,i,s,l,u,c,h,f,d=e[8](`groupingvalues.${e[1]}.${e[2]}`)+"";return{c(){n=C("div"),r=C("span"),i=T(e[4]),s=N(),l=C("span"),u=T(d),F(r,"class","number svelte-1ilu8zv"),F(l,"class","description svelte-1ilu8zv"),F(n,"class","label-text svelte-1ilu8zv"),j(n,"hovered",e[6]),j(n,"faded",e[7]&&!e[6])},m(t,o){_(t,n,o),b(n,r),b(r,i),b(n,s),b(n,l),b(l,u),e[11](n),h||(f=[g(c=Wo.call(null,n,{color:e[5]})),S(n,"mouseenter",e[12]),S(n,"mouseleave",e[13]),S(n,"click",e[10])],h=!0)},p(t,[e]){16&e&&P(i,t[4]),262&e&&d!==(d=t[8](`groupingvalues.${t[1]}.${t[2]}`)+"")&&P(u,d),c&&a(c.update)&&32&e&&c.update.call(null,{color:t[5]}),64&e&&j(n,"hovered",t[6]),192&e&&j(n,"faded",t[7]&&!t[6])},i:t,o:t,d(t){t&&M(n),e[11](null),h=!1,o(f)}}}function as(t,e,n){let r;u(t,zo,(t=>n(8,r=t)));let{name:i}=e,{valueName:o}=e,{value:a}=e,{n:s}=e,{color:l}=e,{hovered:c=!1}=e,{anyHovered:h=!1}=e,{element:f}=e;const d=Q();function p(t,e){d("hover",t?{name:t,value:e}:null)}return t.$$set=t=>{"name"in t&&n(1,i=t.name),"valueName"in t&&n(2,o=t.valueName),"value"in t&&n(3,a=t.value),"n"in t&&n(4,s=t.n),"color"in t&&n(5,l=t.color),"hovered"in t&&n(6,c=t.hovered),"anyHovered"in t&&n(7,h=t.anyHovered),"element"in t&&n(0,f=t.element)},[f,i,o,a,s,l,c,h,r,p,function(){p(null),d("click",{name:i})},function(t){tt[t?"unshift":"push"]((()=>{f=t,n(0,f)}))},()=>p(i,a),()=>p(null)]}class ss extends Tt{constructor(t){super(),At(this,t,as,os,s,{name:1,valueName:2,value:3,n:4,color:5,hovered:6,anyHovered:7,element:0})}}function ls(t,e,n){const r=t.slice();return r[16]=e[n].name,r[17]=e[n].valueName,r[18]=e[n].value,r[19]=e[n].color,r[20]=e[n].n,r[22]=n,r}function us(t){let e,n,r,i,o,a,s,l=t[8](`grouping.${t[1]}`)+"",u=[],c=new Map,h=t[5];const f=t=>`${t[16]}.${t[17]}.${t[22]}`;for(let e=0;e<h.length;e+=1){let n=ls(t,h,e),r=f(n);c.set(r,u[e]=cs(r,n))}return{c(){e=C("h3"),n=T(l),r=N(),i=C("div"),o=N();for(let t=0;t<u.length;t+=1)u[t].c();a=L(),F(e,"class","svelte-155c3ky"),F(i,"class","separator svelte-155c3ky")},m(t,l){_(t,e,l),b(e,n),_(t,r,l),_(t,i,l),_(t,o,l);for(let e=0;e<u.length;e+=1)u[e].m(t,l);_(t,a,l),s=!0},p(t,e){(!s||258&e)&&l!==(l=t[8](`grouping.${t[1]}`)+"")&&P(n,l),548&e&&(h=t[5],pt(),u=wt(u,e,f,1,t,h,c,a.parentNode,$t,cs,a,ls),gt())},i(t){if(!s){for(let t=0;t<h.length;t+=1)mt(u[t]);s=!0}},o(t){for(let t=0;t<u.length;t+=1)vt(u[t]);s=!1},d(t){t&&M(e),t&&M(r),t&&M(i),t&&M(o);for(let e=0;e<u.length;e+=1)u[e].d(t);t&&M(a)}}}function cs(t,e){let n,r,i;return r=new ss({props:{name:e[16],valueName:e[17],value:e[18],n:e[20],color:e[19],hovered:e[2]&&e[2].name===e[16]&&Zo(e[18],e[2].value),anyHovered:e[2]}}),r.$on("hover",e[9]),r.$on("click",e[13]),{key:t,first:null,c(){n=L(),_t(r.$$.fragment),this.first=n},m(t,e){_(t,n,e),Mt(r,t,e),i=!0},p(t,n){e=t;const i={};32&n&&(i.name=e[16]),32&n&&(i.valueName=e[17]),32&n&&(i.value=e[18]),32&n&&(i.n=e[20]),32&n&&(i.color=e[19]),36&n&&(i.hovered=e[2]&&e[2].name===e[16]&&Zo(e[18],e[2].value)),4&n&&(i.anyHovered=e[2]),r.$set(i)},i(t){i||(mt(r.$$.fragment,t),i=!0)},o(t){vt(r.$$.fragment,t),i=!1},d(t){t&&M(n),kt(r,t)}}}function hs(t){let e,n,r,i,o,s,l,u=t[4]&&t[1]&&"none"!==t[1]&&t[0]!==t[1]&&us(t);return{c(){e=C("div"),n=C("div"),u&&u.c(),F(n,"class",r="labels-text-pane "+t[7]+" svelte-155c3ky"),F(e,"class","rosette-labels svelte-155c3ky")},m(r,a){_(r,e,a),b(e,n),u&&u.m(n,null),o=!0,s||(l=g(i=Wo.call(null,e,{x:`${t[3].x}px`,y:`${t[3].y}px`,width:`${t[3].width}px`,height:`${t[3].height}px`,marginHorizontal:`${t[6]}px`,defaultColor:Ao,background:Co})),s=!0)},p(t,[e]){t[4]&&t[1]&&"none"!==t[1]&&t[0]!==t[1]?u?(u.p(t,e),19&e&&mt(u,1)):(u=us(t),u.c(),mt(u,1),u.m(n,null)):u&&(pt(),vt(u,1,1,(()=>{u=null})),gt()),(!o||128&e&&r!==(r="labels-text-pane "+t[7]+" svelte-155c3ky"))&&F(n,"class",r),i&&a(i.update)&&72&e&&i.update.call(null,{x:`${t[3].x}px`,y:`${t[3].y}px`,width:`${t[3].width}px`,height:`${t[3].height}px`,marginHorizontal:`${t[6]}px`,defaultColor:Ao,background:Co})},i(t){o||(mt(u),o=!0)},o(t){vt(u),o=!1},d(t){t&&M(e),u&&u.d(),s=!1,l()}}}function fs(t,e,n){let r,i,o,a,s;u(t,jo,(t=>n(7,a=t))),u(t,zo,(t=>n(8,s=t)));let{cluster:l={}}=e,{groupControlName:c="none"}=e,{colorControlName:h="none"}=e,{colorControlValues:f=[]}=e,{hoveredLabel:d}=e;const p=Q();let g=!0,m=[];return t.$$set=t=>{"cluster"in t&&n(10,l=t.cluster),"groupControlName"in t&&n(0,c=t.groupControlName),"colorControlName"in t&&n(1,h=t.colorControlName),"colorControlValues"in t&&n(11,f=t.colorControlValues),"hoveredLabel"in t&&n(2,d=t.hoveredLabel)},t.$$.update=()=>{1024&t.$$.dirty&&n(6,r=2*l.r+l.xSpacing/10),1024&t.$$.dirty&&n(12,i=l.data.filter((t=>t.draw))),1024&t.$$.dirty&&n(3,o=l.paneDimensions),1032&t.$$.dirty&&n(4,g=l.xSpacing>200&&o.height>200),6146&t.$$.dirty&&function(t,e,r){if(!h||0===f.length)return;const i=Ut(t,(t=>t.length),(t=>t[e])).map((t=>{const n=t[0],{color:i}=r.find((t=>t.value===n));return{name:e,valueName:n,value:[n],n:t[1],color:i}})),o=[...new Set(l.data.map((t=>t[h])))].reverse().reduce(((t,e)=>[...t,...i.filter((t=>t.valueName===e))]),[]);let a=[];const s=Math.max(5,l.length/40);if(o.length>s){const t=o.splice(s);a=[{name:e,valueName:"other",value:t.map((t=>t.value)).flat(),n:t.reduce(((t,e)=>t+e.n),0),color:"#EEEEEE"}]}n(5,m=[...o,...a])}(i,h,f)},[c,h,d,o,g,m,r,a,s,function(t){const{detail:e}=t;e?p("hover",{clusterId:l.id,...t.detail}):l&&p("hover",null)},l,f,i,function(e){J(t,e)}]}class ds extends Tt{constructor(t){super(),At(this,t,fs,hs,s,{cluster:10,groupControlName:0,colorControlName:1,colorControlValues:11,hoveredLabel:2})}}function ps(t,e,n){const r=t.slice();return r[10]=e[n],r}function gs(t){let e,n,r=[],i=new Map,o=t[0];const a=t=>t[10].id;for(let e=0;e<o.length;e+=1){let n=ps(t,o,e),s=a(n);i.set(s,r[e]=ms(s,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=L()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);_(t,e,i),n=!0},p(t,n){253&n&&(o=t[0],pt(),r=wt(r,n,a,1,t,o,i,e.parentNode,$t,ms,e,ps),gt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)mt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)vt(r[t]);n=!1},d(t){for(let e=0;e<r.length;e+=1)r[e].d(t);t&&M(e)}}}function ms(t,e){let n,r,i;return r=new ds({props:{cluster:e[10],groupControlName:e[2],colorControlName:e[3],colorControlValues:e[4],hoveredLabel:e[5]}}),r.$on("hover",e[6]),r.$on("click",e[7]),{key:t,first:null,c(){n=L(),_t(r.$$.fragment),this.first=n},m(t,e){_(t,n,e),Mt(r,t,e),i=!0},p(t,n){e=t;const i={};1&n&&(i.cluster=e[10]),4&n&&(i.groupControlName=e[2]),8&n&&(i.colorControlName=e[3]),16&n&&(i.colorControlValues=e[4]),32&n&&(i.hoveredLabel=e[5]),r.$set(i)},i(t){i||(mt(r.$$.fragment,t),i=!0)},o(t){vt(r.$$.fragment,t),i=!1},d(t){t&&M(n),kt(r,t)}}}function vs(t){let e,n,r=t[1]&&gs(t);return{c(){e=C("div"),r&&r.c(),F(e,"class","rosette-foreground svelte-dp9ulp")},m(t,i){_(t,e,i),r&&r.m(e,null),n=!0},p(t,[n]){t[1]?r?(r.p(t,n),2&n&&mt(r,1)):(r=gs(t),r.c(),mt(r,1),r.m(e,null)):r&&(pt(),vt(r,1,1,(()=>{r=null})),gt())},i(t){n||(mt(r),n=!0)},o(t){vt(r),n=!1},d(t){t&&M(e),r&&r.d()}}}function ys(t,e,n){let r,i,o;u(t,qo,(t=>n(8,r=t))),u(t,Po,(t=>n(9,i=t))),u(t,ea,(t=>n(5,o=t)));let a,s,l,{data:c=[]}=e,{showLabels:h=!1}=e;return t.$$set=t=>{"data"in t&&n(0,c=t.data),"showLabels"in t&&n(1,h=t.showLabels)},t.$$.update=()=>{256&t.$$.dirty&&n(2,({name:a}=r.find((t=>t.selected))||{}),a),512&t.$$.dirty&&n(3,({name:s,values:l}=i.find((t=>t.selected))||{}),s,(n(4,l),n(9,i)))},[c,h,a,s,l,o,function(t){const{detail:e}=t;e?ea.set(e):ea.set(null)},function(t){const{detail:{name:e}={}}=t||{};e&&qo.select(e)},r,i]}class xs extends Tt{constructor(t){super(),At(this,t,ys,vs,s,{data:0,showLabels:1})}}function $s(t){let e,n,r,i,o=t[5].main+"",a=t[5].prefix&&ws(t);return{c(){e=C("p"),a&&a.c(),n=N(),r=C("span"),i=T(o),F(e,"class","svelte-12ceeun")},m(t,o){_(t,e,o),a&&a.m(e,null),b(e,n),b(e,r),b(r,i)},p(t,r){t[5].prefix?a?a.p(t,r):(a=ws(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),32&r&&o!==(o=t[5].main+"")&&P(i,o)},d(t){t&&M(e),a&&a.d()}}}function ws(t){let e,n,r=t[5].prefix+"";return{c(){e=C("span"),n=T(r)},m(t,r){_(t,e,r),b(e,n)},p(t,e){32&e&&r!==(r=t[5].prefix+"")&&P(n,r)},d(t){t&&M(e)}}}function bs(t){let e,n,r,i,o=t[6].main+"",a=t[6].prefix&&_s(t);return{c(){e=C("p"),a&&a.c(),n=N(),r=C("span"),i=T(o),F(e,"class","svelte-12ceeun")},m(t,o){_(t,e,o),a&&a.m(e,null),b(e,n),b(e,r),b(r,i)},p(t,r){t[6].prefix?a?a.p(t,r):(a=_s(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),64&r&&o!==(o=t[6].main+"")&&P(i,o)},d(t){t&&M(e),a&&a.d()}}}function _s(t){let e,n,r=t[6].prefix+"";return{c(){e=C("span"),n=T(r)},m(t,r){_(t,e,r),b(e,n)},p(t,e){64&e&&r!==(r=t[6].prefix+"")&&P(n,r)},d(t){t&&M(e)}}}function Ms(t){let e,n,r,i,o;return{c(){e=C("div"),F(e,"class",n="title-image "+t[12]+" svelte-12ceeun")},m(n,a){_(n,e,a),i||(o=g(r=Wo.call(null,e,{backgroundUrl:`url('${t[4].profile_url}')`})),i=!0)},p(t,i){4096&i&&n!==(n="title-image "+t[12]+" svelte-12ceeun")&&F(e,"class",n),r&&a(r.update)&&16&i&&r.update.call(null,{backgroundUrl:`url('${t[4].profile_url}')`})},d(t){t&&M(e),i=!1,o()}}}function ks(t){let e,n,r=t[4][`intro_${t[11]}`]+"";return{c(){e=C("p"),n=T(r),F(e,"class","svelte-12ceeun")},m(t,r){_(t,e,r),b(e,n)},p(t,e){2064&e&&r!==(r=t[4][`intro_${t[11]}`]+"")&&P(n,r)},d(t){t&&M(e)}}}function Cs(t){let e,n,r,i,o,s,l,u,c,h,f,d,p,m,v,y,x,$,w,k,A,L,S,E,q,D=t[4][`name_${t[11]}`]+"",U=t[4].profile_url&&!t[13].includes(t[4].profile_url),H=t[8]("tooltip.click_to_read_more")+"",j=t[5]&&$s(t),O=t[6]&&t[0].name!==t[1].name&&bs(t),Y=U&&Ms(t),Z=t[4][`intro_${t[11]}`]&&ks(t);return{c(){e=C("div"),n=C("div"),r=C("div"),i=C("div"),o=C("h2"),s=T(D),l=N(),j&&j.c(),u=N(),O&&O.c(),c=N(),Y&&Y.c(),h=N(),f=C("div"),d=N(),p=C("div"),m=C("div"),v=N(),Z&&Z.c(),y=N(),x=C("div"),$=C("p"),w=T(H),F(o,"class","svelte-12ceeun"),F(i,"class","title-text svelte-12ceeun"),F(r,"class","tooltip-title svelte-12ceeun"),F(f,"class","separator svelte-12ceeun"),F(m,"class","tooltip-body-overlay svelte-12ceeun"),F(p,"class","tooltip-body svelte-12ceeun"),F($,"class","svelte-12ceeun"),F(x,"class","tooltip-footer svelte-12ceeun"),F(n,"class","tooltip-content svelte-12ceeun"),F(e,"class","province-tooltip svelte-12ceeun"),ot((()=>t[20].call(e)))},m(a,M){_(a,e,M),b(e,n),b(n,r),b(r,i),b(i,o),b(o,s),b(i,l),j&&j.m(i,null),b(i,u),O&&O.m(i,null),b(r,c),Y&&Y.m(r,null),b(n,h),b(n,f),b(n,d),b(n,p),b(p,m),b(p,v),Z&&Z.m(p,null),b(n,y),b(n,x),b(x,$),b($,w),A=z(e,t[20].bind(e)),S=!0,E||(q=g(k=Wo.call(null,e,{left:`${t[9]}px`,top:`${t[10]}px`,defaultColor:Ao,defaultColorTransparent:"#DAE2F500",color:t[7],background:Co})),E=!0)},p(t,[e]){(!S||2064&e)&&D!==(D=t[4][`name_${t[11]}`]+"")&&P(s,D),t[5]?j?j.p(t,e):(j=$s(t),j.c(),j.m(i,u)):j&&(j.d(1),j=null),t[6]&&t[0].name!==t[1].name?O?O.p(t,e):(O=bs(t),O.c(),O.m(i,null)):O&&(O.d(1),O=null),16&e&&(U=t[4].profile_url&&!t[13].includes(t[4].profile_url)),U?Y?Y.p(t,e):(Y=Ms(t),Y.c(),Y.m(r,null)):Y&&(Y.d(1),Y=null),t[4][`intro_${t[11]}`]?Z?Z.p(t,e):(Z=ks(t),Z.c(),Z.m(p,null)):Z&&(Z.d(1),Z=null),(!S||256&e)&&H!==(H=t[8]("tooltip.click_to_read_more")+"")&&P(w,H),k&&a(k.update)&&1664&e&&k.update.call(null,{left:`${t[9]}px`,top:`${t[10]}px`,defaultColor:Ao,defaultColorTransparent:"#DAE2F500",color:t[7],background:Co})},i(t){S||(ot((()=>{L||(L=xt(e,Ea,{duration:200},!0)),L.run(1)})),S=!0)},o(t){L||(L=xt(e,Ea,{duration:200},!1)),L.run(0),S=!1},d(t){t&&M(e),j&&j.d(),O&&O.d(),Y&&Y.d(),Z&&Z.d(),A(),t&&L&&L.end(),E=!1,q()}}}function As(t,e,n){let r,i,o,a,s,l;u(t,zo,(t=>n(8,o=t))),u(t,Uo,(t=>n(11,s=t))),u(t,jo,(t=>n(12,l=t)));let c,h,f,d,{tooltip:g}=e,{parentWidth:m=0}=e,{parentHeight:v=0}=e,{selectedGroup:y}=e,{selectedColor:x}=e,$=0,w=0,b=Co;const _=10,M=10,k=Sa(null,{duration:300,easing:Ta});function C(t){let e=null;return t&&"none"!==t.name&&"unknown"!==c[t.name]&&(e={},e.main=o(`groupingvalues.${t.name}.${c[t.name]}`),"institutioninvestigating"===t.name&&(e.prefix=o(`grouping.${t.name}_prefix`))),e}return u(t,k,(t=>n(9,a=t))),t.$$set=t=>{"tooltip"in t&&n(15,g=t.tooltip),"parentWidth"in t&&n(16,m=t.parentWidth),"parentHeight"in t&&n(17,v=t.parentHeight),"selectedGroup"in t&&n(0,y=t.selectedGroup),"selectedColor"in t&&n(1,x=t.selectedColor)},t.$$.update=()=>{32787&t.$$.dirty&&(n(4,({d:c,pos:h}=g),c,(n(18,h),n(15,g),n(0,y),n(1,x),n(4,c))),n(5,f=C(y)),n(6,d=C(x)),n(7,({color:b}=x.values.find((t=>t.value===c[x.name]))),b)),131072&t.$$.dirty&&n(19,r=Math.min(50,v/10)),327684&t.$$.dirty&&p(k,a=Math.min(m-$-_,Math.max(M,h.x-$/2)),a),917512&t.$$.dirty&&n(10,i=h.y+(v/2<h.y?-w-r/2:r))},[y,x,$,w,c,f,d,b,o,a,i,s,l,[],k,g,m,v,h,r,function(){$=this.clientWidth,w=this.clientHeight,n(2,$),n(3,w)}]}class Ts extends Tt{constructor(t){super(),At(this,t,As,Cs,s,{tooltip:15,parentWidth:16,parentHeight:17,selectedGroup:0,selectedColor:1})}}function Ns(e){let r,i,o=[{key:i="path-"+e[0]},e[1]],a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return{c(){r=A("path"),q(r,a)},m(t,e){_(t,r,e)},p(t,[e]){q(r,a=bt(o,[1&e&&i!==(i="path-"+t[0])&&{key:i},2&e&&t[1]]))},i:t,o:t,d(t){t&&M(r)}}}function Ls(t,e,n){let{id:r=""}=e,{data:i={}}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"data"in t&&n(1,i=t.data)},[r,i]}class Ss extends Tt{constructor(t){super(),At(this,t,Ls,Ns,s,{id:0,data:1})}}function Es(e){let r,i,o=[{key:i="polygon-"+e[0]},e[1]],a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return{c(){r=A("polygon"),q(r,a)},m(t,e){_(t,r,e)},p(t,[e]){q(r,a=bt(o,[1&e&&i!==(i="polygon-"+t[0])&&{key:i},2&e&&t[1]]))},i:t,o:t,d(t){t&&M(r)}}}function Fs(t,e,n){let{id:r=""}=e,{data:i={}}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"data"in t&&n(1,i=t.data)},[r,i]}class qs extends Tt{constructor(t){super(),At(this,t,Fs,Es,s,{id:0,data:1})}}function Ps(e){let n;return{c(){n=A("g")},m(t,r){_(t,n,r),n.innerHTML=e[0]},p(t,[e]){1&e&&(n.innerHTML=t[0])},i:t,o:t,d(t){t&&M(n)}}}function Ds(t,e,n){let r,i=870711;let{data:o}=e;function a(t){if(!t||!t.raw)return null;let e=t.raw;const n={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,((t,e)=>{const r=(i+=1,`fa-${i.toString(16)}`);return n[e]=r,` id="${r}"`})),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((t,e,r,i)=>{const o=e||i;return o&&n[o]?`#${n[o]}`:t})),e}return t.$$set=t=>{"data"in t&&n(1,o=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=a(o))},[r,o]}class Us extends Tt{constructor(t){super(),At(this,t,Ds,Ps,s,{data:1})}}function Hs(t){let e,n,r,i;const o=t[13].default,a=c(o,t,t[12],null);return{c(){e=A("svg"),a&&a.c(),F(e,"version","1.1"),F(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),F(e,"x",t[8]),F(e,"y",t[9]),F(e,"width",t[1]),F(e,"height",t[2]),F(e,"aria-label",t[11]),F(e,"role",r=t[11]?"img":"presentation"),F(e,"viewBox",t[3]),F(e,"style",t[10]),j(e,"fa-spin",t[4]),j(e,"fa-pulse",t[6]),j(e,"fa-inverse",t[5]),j(e,"fa-flip-horizontal","horizontal"===t[7]),j(e,"fa-flip-vertical","vertical"===t[7])},m(t,n){_(t,e,n),a&&a.m(e,null),i=!0},p(t,[s]){a&&a.p&&4096&s&&f(a,o,t,t[12],s,null,null),(!i||1&s&&n!==(n="fa-icon "+t[0]+" svelte-1dof0an"))&&F(e,"class",n),(!i||256&s)&&F(e,"x",t[8]),(!i||512&s)&&F(e,"y",t[9]),(!i||2&s)&&F(e,"width",t[1]),(!i||4&s)&&F(e,"height",t[2]),(!i||2048&s)&&F(e,"aria-label",t[11]),(!i||2048&s&&r!==(r=t[11]?"img":"presentation"))&&F(e,"role",r),(!i||8&s)&&F(e,"viewBox",t[3]),(!i||1024&s)&&F(e,"style",t[10]),17&s&&j(e,"fa-spin",t[4]),65&s&&j(e,"fa-pulse",t[6]),33&s&&j(e,"fa-inverse",t[5]),129&s&&j(e,"fa-flip-horizontal","horizontal"===t[7]),129&s&&j(e,"fa-flip-vertical","vertical"===t[7])},i(t){i||(mt(a,t),i=!0)},o(t){vt(a,t),i=!1},d(t){t&&M(e),a&&a.d(t)}}}function zs(t,e,n){let{$$slots:r={},$$scope:i}=e,{class:o}=e,{width:a}=e,{height:s}=e,{box:l}=e,{spin:u=!1}=e,{inverse:c=!1}=e,{pulse:h=!1}=e,{flip:f=null}=e,{x:d}=e,{y:p}=e,{style:g}=e,{label:m}=e;return t.$$set=t=>{"class"in t&&n(0,o=t.class),"width"in t&&n(1,a=t.width),"height"in t&&n(2,s=t.height),"box"in t&&n(3,l=t.box),"spin"in t&&n(4,u=t.spin),"inverse"in t&&n(5,c=t.inverse),"pulse"in t&&n(6,h=t.pulse),"flip"in t&&n(7,f=t.flip),"x"in t&&n(8,d=t.x),"y"in t&&n(9,p=t.y),"style"in t&&n(10,g=t.style),"label"in t&&n(11,m=t.label),"$$scope"in t&&n(12,i=t.$$scope)},[o,a,s,l,u,c,h,f,d,p,g,m,i,r]}class js extends Tt{constructor(t){super(),At(this,t,zs,Hs,s,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function Os(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function Ys(t,e,n){const r=t.slice();return r[27]=e[n],r[26]=n,r}function Zs(t){let e,n,r,i,o=t[0].paths&&Is(t),a=t[0].polygons&&Rs(t),s=t[0].raw&&Bs(t);return{c(){o&&o.c(),e=N(),a&&a.c(),n=N(),s&&s.c(),r=L()},m(t,l){o&&o.m(t,l),_(t,e,l),a&&a.m(t,l),_(t,n,l),s&&s.m(t,l),_(t,r,l),i=!0},p(t,i){t[0].paths?o?(o.p(t,i),1&i&&mt(o,1)):(o=Is(t),o.c(),mt(o,1),o.m(e.parentNode,e)):o&&(pt(),vt(o,1,1,(()=>{o=null})),gt()),t[0].polygons?a?(a.p(t,i),1&i&&mt(a,1)):(a=Rs(t),a.c(),mt(a,1),a.m(n.parentNode,n)):a&&(pt(),vt(a,1,1,(()=>{a=null})),gt()),t[0].raw?s?(s.p(t,i),1&i&&mt(s,1)):(s=Bs(t),s.c(),mt(s,1),s.m(r.parentNode,r)):s&&(pt(),vt(s,1,1,(()=>{s=null})),gt())},i(t){i||(mt(o),mt(a),mt(s),i=!0)},o(t){vt(o),vt(a),vt(s),i=!1},d(t){o&&o.d(t),t&&M(e),a&&a.d(t),t&&M(n),s&&s.d(t),t&&M(r)}}}function Is(t){let e,n,r=t[0].paths,i=[];for(let e=0;e<r.length;e+=1)i[e]=Ws(Ys(t,r,e));const o=t=>vt(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=L()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);_(t,e,r),n=!0},p(t,n){if(1&n){let a;for(r=t[0].paths,a=0;a<r.length;a+=1){const o=Ys(t,r,a);i[a]?(i[a].p(o,n),mt(i[a],1)):(i[a]=Ws(o),i[a].c(),mt(i[a],1),i[a].m(e.parentNode,e))}for(pt(),a=r.length;a<i.length;a+=1)o(a);gt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)mt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)vt(i[t]);n=!1},d(t){k(i,t),t&&M(e)}}}function Ws(t){let e,n;return e=new Ss({props:{id:t[26],data:t[27]}}),{c(){_t(e.$$.fragment)},m(t,r){Mt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.data=t[27]),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Rs(t){let e,n,r=t[0].polygons,i=[];for(let e=0;e<r.length;e+=1)i[e]=Vs(Os(t,r,e));const o=t=>vt(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=L()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);_(t,e,r),n=!0},p(t,n){if(1&n){let a;for(r=t[0].polygons,a=0;a<r.length;a+=1){const o=Os(t,r,a);i[a]?(i[a].p(o,n),mt(i[a],1)):(i[a]=Vs(o),i[a].c(),mt(i[a],1),i[a].m(e.parentNode,e))}for(pt(),a=r.length;a<i.length;a+=1)o(a);gt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)mt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)vt(i[t]);n=!1},d(t){k(i,t),t&&M(e)}}}function Vs(t){let e,n;return e=new qs({props:{id:t[26],data:t[24]}}),{c(){_t(e.$$.fragment)},m(t,r){Mt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.data=t[24]),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Bs(t){let e,n,r;function i(e){t[15].call(null,e)}let o={};return void 0!==t[0]&&(o.data=t[0]),e=new Us({props:o}),tt.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(e,"data",i))),{c(){_t(e.$$.fragment)},m(t,n){Mt(e,t,n),r=!0},p(t,r){const i={};!n&&1&r&&(n=!0,i.data=t[0],function(t){nt.push(t)}((()=>n=!1))),e.$set(i)},i(t){r||(mt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){kt(e,t)}}}function Xs(t){let e;const n=t[14].default,r=c(n,t,t[16],null),i=r||function(t){let e,n,r=t[0]&&Zs(t);return{c(){r&&r.c(),e=L()},m(t,i){r&&r.m(t,i),_(t,e,i),n=!0},p(t,n){t[0]?r?(r.p(t,n),1&n&&mt(r,1)):(r=Zs(t),r.c(),mt(r,1),r.m(e.parentNode,e)):r&&(pt(),vt(r,1,1,(()=>{r=null})),gt())},i(t){n||(mt(r),n=!0)},o(t){vt(r),n=!1},d(t){r&&r.d(t),t&&M(e)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){r?r.p&&65536&e&&f(r,n,t,t[16],e,null,null):i&&i.p&&1&e&&i.p(t,e)},i(t){e||(mt(i,t),e=!0)},o(t){vt(i,t),e=!1},d(t){i&&i.d(t)}}}function Gs(t){let e,n;return e=new js({props:{label:t[6],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[2],flip:t[5],inverse:t[3],pulse:t[4],class:t[1],$$slots:{default:[Xs]},$$scope:{ctx:t}}}),{c(){_t(e.$$.fragment)},m(t,r){Mt(e,t,r),n=!0},p(t,[n]){const r={};64&n&&(r.label=t[6]),128&n&&(r.width=t[7]),256&n&&(r.height=t[8]),1024&n&&(r.box=t[10]),512&n&&(r.style=t[9]),4&n&&(r.spin=t[2]),32&n&&(r.flip=t[5]),8&n&&(r.inverse=t[3]),16&n&&(r.pulse=t[4]),2&n&&(r.class=t[1]),65537&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Qs(t,e,n){let r,i,o,a,{$$slots:s={},$$scope:l}=e,{class:u=""}=e,{data:c}=e,{scale:h=1}=e,{spin:f=!1}=e,{inverse:d=!1}=e,{pulse:p=!1}=e,{flip:g=null}=e,{label:m=null}=e,{self:v=null}=e,{style:y=null}=e;function x(){let t=1;return void 0!==h&&(t=Number(h)),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*t}function $(){return v?Math.max(v.width,v.height)/16:1}return t.$$set=t=>{"class"in t&&n(1,u=t.class),"data"in t&&n(11,c=t.data),"scale"in t&&n(12,h=t.scale),"spin"in t&&n(2,f=t.spin),"inverse"in t&&n(3,d=t.inverse),"pulse"in t&&n(4,p=t.pulse),"flip"in t&&n(5,g=t.flip),"label"in t&&n(6,m=t.label),"self"in t&&n(0,v=t.self),"style"in t&&n(13,y=t.style),"$$scope"in t&&n(16,l=t.$$scope)},t.$$.update=()=>{14336&t.$$.dirty&&(!function(){if(void 0===c)return;const t=function(t){if("iconName"in t&&"icon"in t){let e={},n=t.icon,r=t.iconName,i={width:n[0],height:n[1],paths:[{d:n[4]}]};return e[r]=i,e}return t}(c),[e]=Object.keys(t),r=t[e];r.paths||(r.paths=[]),r.d&&r.paths.push({d:r.d}),r.polygons||(r.polygons=[]),r.points&&r.polygons.push({points:r.points}),n(0,v=r)}(),n(7,r=v?v.width/$()*x():0),n(8,i=v?v.height/$()*x():0),n(9,o=function(){let t="";null!==y&&(t+=y);let e=x();return 1===e?t:(""===t||t.endsWith(";")||(t+="; "),`${t}font-size: ${e}em`)}()),n(10,a=v?`0 0 ${v.width} ${v.height}`:`0 0 ${r} ${i}`))},[v,u,f,d,p,g,m,r,i,o,a,c,h,y,s,function(t){v=t,n(0,v)},l]}class Js extends Tt{constructor(t){super(),At(this,t,Qs,Gs,s,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}var Ks={twitter:{width:1664,height:1792,paths:[{d:"M1620 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"}]}},tl={square:{width:1536,height:1792,paths:[{d:"M1536 416v960q0 119-84.5 203.5t-203.5 84.5h-960q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z"}]}};function el(t){let e,n,r,i,o=t[2](`groupingvalues.occupation.${t[0].occupation}`)+"";return{c(){e=C("span"),n=T("("),r=T(o),i=T(")"),F(e,"class","occupation svelte-87s46d")},m(t,o){_(t,e,o),b(e,n),b(e,r),b(e,i)},p(t,e){5&e&&o!==(o=t[2](`groupingvalues.occupation.${t[0].occupation}`)+"")&&P(r,o)},d(t){t&&M(e)}}}function nl(t){let e,n,r,i,o,a,s,l,u,c,h=t[0].twitter+"";return r=new Js({props:{data:Ks}}),{c(){e=C("a"),n=C("li"),_t(r.$$.fragment),i=N(),o=C("span"),a=T(h),F(o,"class","svelte-87s46d"),F(n,"class","svelte-87s46d"),F(e,"href",s="https://twitter.com/"+t[0].twitter),F(e,"target","_blank"),F(e,"class","svelte-87s46d")},m(s,h){_(s,e,h),b(e,n),Mt(r,n,null),b(n,i),b(n,o),b(o,a),l=!0,u||(c=S(e,"click",E(t[7])),u=!0)},p(t,n){(!l||1&n)&&h!==(h=t[0].twitter+"")&&P(a,h),(!l||1&n&&s!==(s="https://twitter.com/"+t[0].twitter))&&F(e,"href",s)},i(t){l||(mt(r.$$.fragment,t),l=!0)},o(t){vt(r.$$.fragment,t),l=!1},d(t){t&&M(e),kt(r),u=!1,c()}}}function rl(t){let e,n,r,i,o,a,s,l,u;return r=new Js({props:{data:tl}}),{c(){e=C("a"),n=C("li"),_t(r.$$.fragment),i=N(),o=C("span"),o.textContent="Blog",F(o,"class","svelte-87s46d"),F(n,"class","svelte-87s46d"),F(e,"href",a=t[0].blog_link),F(e,"target","_blank"),F(e,"class","svelte-87s46d")},m(a,c){_(a,e,c),b(e,n),Mt(r,n,null),b(n,i),b(n,o),s=!0,l||(u=S(e,"click",E(t[6])),l=!0)},p(t,n){(!s||1&n&&a!==(a=t[0].blog_link))&&F(e,"href",a)},i(t){s||(mt(r.$$.fragment,t),s=!0)},o(t){vt(r.$$.fragment,t),s=!1},d(t){t&&M(e),kt(r),l=!1,u()}}}function il(t){let e,n,r,i,o,a,s=t[2]("other.career")+"",l=t[0][t[3]("career")]+"";return{c(){e=C("li"),n=C("h3"),r=T(s),i=N(),o=C("p"),a=T(l),F(n,"class","svelte-87s46d"),F(o,"class","svelte-87s46d"),F(e,"class","career svelte-87s46d")},m(t,s){_(t,e,s),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a)},p(t,e){4&e&&s!==(s=t[2]("other.career")+"")&&P(r,s),9&e&&l!==(l=t[0][t[3]("career")]+"")&&P(a,l)},d(t){t&&M(e)}}}function ol(t){let e,n,r,i,o,a,s=t[2]("other.sentence")+"",l=t[0][t[3]("sentence")]+"";return{c(){e=C("li"),n=C("h3"),r=T(s),i=N(),o=C("p"),a=T(l),F(n,"class","svelte-87s46d"),F(o,"class","svelte-87s46d"),F(e,"class","sentence svelte-87s46d")},m(t,s){_(t,e,s),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a)},p(t,e){4&e&&s!==(s=t[2]("other.sentence")+"")&&P(r,s),9&e&&l!==(l=t[0][t[3]("sentence")]+"")&&P(a,l)},d(t){t&&M(e)}}}function al(t){let e,n,r,i,o,a,s=t[2]("grouping.institutioninvestigating")+"",l=t[2](`groupingvalues.institutioninvestigating.${t[0].institutioninvestigating}`)+"";return{c(){e=C("li"),n=C("h3"),r=T(s),i=N(),o=C("p"),a=T(l),F(n,"class","svelte-87s46d"),F(o,"class","svelte-87s46d"),F(e,"class","institutioninvestigating svelte-87s46d")},m(t,s){_(t,e,s),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a)},p(t,e){4&e&&s!==(s=t[2]("grouping.institutioninvestigating")+"")&&P(r,s),5&e&&l!==(l=t[2](`groupingvalues.institutioninvestigating.${t[0].institutioninvestigating}`)+"")&&P(a,l)},d(t){t&&M(e)}}}function sl(t){let e,n,r,i,o,a,s=t[2]("other.organisation")+"",l=t[0][t[3]("oranisation_name")]+"";return{c(){e=C("li"),n=C("h3"),r=T(s),i=N(),o=C("p"),a=T(l),F(n,"class","svelte-87s46d"),F(o,"class","svelte-87s46d"),F(e,"class","organisation svelte-87s46d")},m(t,s){_(t,e,s),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a)},p(t,e){4&e&&s!==(s=t[2]("other.organisation")+"")&&P(r,s),9&e&&l!==(l=t[0][t[3]("oranisation_name")]+"")&&P(a,l)},d(t){t&&M(e)}}}function ll(t){let e,n,r,i,o,a,s=t[2]("grouping.province")+"",l=t[2](`groupingvalues.province.${t[0].province}`)+"";return{c(){e=C("li"),n=C("h3"),r=T(s),i=N(),o=C("p"),a=T(l),F(n,"class","svelte-87s46d"),F(o,"class","svelte-87s46d"),F(e,"class","province svelte-87s46d")},m(t,s){_(t,e,s),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a)},p(t,e){4&e&&s!==(s=t[2]("grouping.province")+"")&&P(r,s),5&e&&l!==(l=t[2](`groupingvalues.province.${t[0].province}`)+"")&&P(a,l)},d(t){t&&M(e)}}}function ul(t){let e,n,r,i,o,a,s=t[2]("grouping.ethnicgroup")+"",l=t[2](`groupingvalues.ethnicgroup.${t[0].ethnicgroup}`)+"";return{c(){e=C("li"),n=C("h3"),r=T(s),i=N(),o=C("p"),a=T(l),F(n,"class","svelte-87s46d"),F(o,"class","svelte-87s46d"),F(e,"class","ethnicgroup svelte-87s46d")},m(t,s){_(t,e,s),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a)},p(t,e){4&e&&s!==(s=t[2]("grouping.ethnicgroup")+"")&&P(r,s),5&e&&l!==(l=t[2](`groupingvalues.ethnicgroup.${t[0].ethnicgroup}`)+"")&&P(a,l)},d(t){t&&M(e)}}}function cl(t){let e,n,r,i,o,a,s=t[2]("grouping.religoiusgroup")+"",l=t[2](`groupingvalues.religoiusgroup.${t[0].religoiusgroup}`)+"";return{c(){e=C("li"),n=C("h3"),r=T(s),i=N(),o=C("p"),a=T(l),F(n,"class","svelte-87s46d"),F(o,"class","svelte-87s46d"),F(e,"class","religiousgroup svelte-87s46d")},m(t,s){_(t,e,s),b(e,n),b(n,r),b(e,i),b(e,o),b(o,a)},p(t,e){4&e&&s!==(s=t[2]("grouping.religoiusgroup")+"")&&P(r,s),5&e&&l!==(l=t[2](`groupingvalues.religoiusgroup.${t[0].religoiusgroup}`)+"")&&P(a,l)},d(t){t&&M(e)}}}function hl(t){let e,n,r=t[0][t[3]("intro")],i=t[0][t[3]("bio")],o=r&&fl(t),a=i&&dl(t);return{c(){e=C("div"),o&&o.c(),n=N(),a&&a.c(),F(e,"class","bio svelte-87s46d")},m(t,r){_(t,e,r),o&&o.m(e,null),b(e,n),a&&a.m(e,null)},p(t,s){9&s&&(r=t[0][t[3]("intro")]),r?o?o.p(t,s):(o=fl(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),9&s&&(i=t[0][t[3]("bio")]),i?a?a.p(t,s):(a=dl(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(t){t&&M(e),o&&o.d(),a&&a.d()}}}function fl(t){let e,n,r=t[0][t[3]("intro")]+"";return{c(){e=C("p"),n=T(r),F(e,"class","intro svelte-87s46d")},m(t,r){_(t,e,r),b(e,n)},p(t,e){9&e&&r!==(r=t[0][t[3]("intro")]+"")&&P(n,r)},d(t){t&&M(e)}}}function dl(t){let e,n,r=t[0][t[3]("bio")]+"";return{c(){e=C("p"),n=T(r),F(e,"class","main svelte-87s46d")},m(t,r){_(t,e,r),b(e,n)},p(t,e){9&e&&r!==(r=t[0][t[3]("bio")]+"")&&P(n,r)},d(t){t&&M(e)}}}function pl(t){let e,n,r,i,o=t[2]("profile.last_modified")+"",a=t[0].modified_date.toLocaleDateString(t[4]+"-GB")+"";return{c(){e=C("p"),n=T(o),r=N(),i=T(a),F(e,"class","svelte-87s46d")},m(t,o){_(t,e,o),b(e,n),b(e,r),b(e,i)},p(t,e){4&e&&o!==(o=t[2]("profile.last_modified")+"")&&P(n,o),17&e&&a!==(a=t[0].modified_date.toLocaleDateString(t[4]+"-GB")+"")&&P(i,a)},d(t){t&&M(e)}}}function gl(t){let e,n,r,i,o=t[2]("profile.last_updated")+"",a=t[0].last_updated.toLocaleDateString(t[4]+"-GB")+"";return{c(){e=C("p"),n=T(o),r=N(),i=T(a),F(e,"class","svelte-87s46d")},m(t,o){_(t,e,o),b(e,n),b(e,r),b(e,i)},p(t,e){4&e&&o!==(o=t[2]("profile.last_updated")+"")&&P(n,o),17&e&&a!==(a=t[0].last_updated.toLocaleDateString(t[4]+"-GB")+"")&&P(i,a)},d(t){t&&M(e)}}}function ml(t){let e,n,r,i,s,l,u,c,h,f,d,p,m,v,y,x,$,w,k,A,L,E,q,D,U,H,z,O,Y,Z,I,W,R,V,B,X,G,Q,J,K,tt,et,nt,rt=t[2]("profile.close")+"",it=t[2](`groupingvalues.status.${t[0].status}`)+"",at=t[0][t[3]("name")]+"",st=t[0][t[3]("career")],lt=t[0][t[3]("sentence")],ut=t[0][t[3]("oranisation_name")],ct=t[0][t[3]("intro")]&&t[0][t[3]("bio")],ht=t[0].occupation&&el(t),ft=t[0].twitter&&nl(t),dt=t[0].blog_link&&rl(t),yt=st&&il(t),$t=lt&&ol(t),wt=t[0].institutioninvestigating&&al(t),bt=ut&&sl(t),_t=t[0].province&&ll(t),Mt=t[0].ethnicgroup&&ul(t),kt=t[0].religoiusgroup&&cl(t),Ct=ct&&hl(t);function At(t,e){return t[0].last_updated?gl:t[0].modified_date?pl:void 0}let Tt=At(t),Nt=Tt&&Tt(t);return{c(){e=C("div"),n=C("div"),r=N(),i=C("div"),s=N(),l=C("div"),u=C("div"),c=C("div"),h=C("button"),f=T(rt),d=N(),p=C("div"),m=C("img"),x=N(),$=C("div"),w=T(it),k=N(),A=C("h2"),L=C("span"),E=T(at),q=N(),ht&&ht.c(),D=N(),U=C("ul"),ft&&ft.c(),H=N(),dt&&dt.c(),z=N(),O=C("div"),Y=C("ul"),yt&&yt.c(),Z=N(),$t&&$t.c(),I=N(),wt&&wt.c(),W=N(),bt&&bt.c(),R=N(),_t&&_t.c(),V=N(),Mt&&Mt.c(),B=N(),kt&&kt.c(),X=N(),Ct&&Ct.c(),G=N(),Q=C("div"),Nt&&Nt.c(),F(n,"class","profile-content-overlay svelte-87s46d"),F(i,"class","profile-content-reduced-overlay svelte-87s46d"),F(h,"class","close-profile svelte-87s46d"),m.src!==(v=t[0].profile_url)&&F(m,"src",v),F(m,"alt",y="Profile image of "+t[0].name_en),F(m,"class","svelte-87s46d"),F(p,"class","profile-image svelte-87s46d"),F($,"class","status svelte-87s46d"),F(L,"class","svelte-87s46d"),F(A,"class","name svelte-87s46d"),F(U,"class","social-media svelte-87s46d"),F(c,"class","profile-header svelte-87s46d"),F(Y,"class","sidebar svelte-87s46d"),j(Y,"center",!t[0][t[3]("intro")]&&!t[0][t[3]("bio")]),F(O,"class","profile-body svelte-87s46d"),F(Q,"class","profile-footer svelte-87s46d"),F(u,"class","profile-content svelte-87s46d"),F(l,"class","profile-content-scroll-wrapper svelte-87s46d"),F(e,"class","profile svelte-87s46d")},m(o,a){_(o,e,a),b(e,n),b(e,r),b(e,i),b(e,s),b(e,l),b(l,u),b(u,c),b(c,h),b(h,f),b(c,d),b(c,p),b(p,m),b(c,x),b(c,$),b($,w),b(c,k),b(c,A),b(A,L),b(L,E),b(A,q),ht&&ht.m(A,null),b(c,D),b(c,U),ft&&ft.m(U,null),b(U,H),dt&&dt.m(U,null),b(u,z),b(u,O),b(O,Y),yt&&yt.m(Y,null),b(Y,Z),$t&&$t.m(Y,null),b(Y,I),wt&&wt.m(Y,null),b(Y,W),bt&&bt.m(Y,null),b(Y,R),_t&&_t.m(Y,null),b(Y,V),Mt&&Mt.m(Y,null),b(Y,B),kt&&kt.m(Y,null),b(O,X),Ct&&Ct.m(O,null),b(u,G),b(u,Q),Nt&&Nt.m(Q,null),tt=!0,et||(nt=[g(J=Wo.call(null,e,{background:Co,backgroundTransparent:"#00324700",color:Ao,yellow:To,topOffset:`${t[1]}px`,decreasedTopOffset:"0px",increasedTopOffset:"20px"})),S(e,"click",t[5])],et=!0)},p(t,[e]){(!tt||4&e)&&rt!==(rt=t[2]("profile.close")+"")&&P(f,rt),(!tt||1&e&&m.src!==(v=t[0].profile_url))&&F(m,"src",v),(!tt||1&e&&y!==(y="Profile image of "+t[0].name_en))&&F(m,"alt",y),(!tt||5&e)&&it!==(it=t[2](`groupingvalues.status.${t[0].status}`)+"")&&P(w,it),(!tt||9&e)&&at!==(at=t[0][t[3]("name")]+"")&&P(E,at),t[0].occupation?ht?ht.p(t,e):(ht=el(t),ht.c(),ht.m(A,null)):ht&&(ht.d(1),ht=null),t[0].twitter?ft?(ft.p(t,e),1&e&&mt(ft,1)):(ft=nl(t),ft.c(),mt(ft,1),ft.m(U,H)):ft&&(pt(),vt(ft,1,1,(()=>{ft=null})),gt()),t[0].blog_link?dt?(dt.p(t,e),1&e&&mt(dt,1)):(dt=rl(t),dt.c(),mt(dt,1),dt.m(U,null)):dt&&(pt(),vt(dt,1,1,(()=>{dt=null})),gt()),9&e&&(st=t[0][t[3]("career")]),st?yt?yt.p(t,e):(yt=il(t),yt.c(),yt.m(Y,Z)):yt&&(yt.d(1),yt=null),9&e&&(lt=t[0][t[3]("sentence")]),lt?$t?$t.p(t,e):($t=ol(t),$t.c(),$t.m(Y,I)):$t&&($t.d(1),$t=null),t[0].institutioninvestigating?wt?wt.p(t,e):(wt=al(t),wt.c(),wt.m(Y,W)):wt&&(wt.d(1),wt=null),9&e&&(ut=t[0][t[3]("oranisation_name")]),ut?bt?bt.p(t,e):(bt=sl(t),bt.c(),bt.m(Y,R)):bt&&(bt.d(1),bt=null),t[0].province?_t?_t.p(t,e):(_t=ll(t),_t.c(),_t.m(Y,V)):_t&&(_t.d(1),_t=null),t[0].ethnicgroup?Mt?Mt.p(t,e):(Mt=ul(t),Mt.c(),Mt.m(Y,B)):Mt&&(Mt.d(1),Mt=null),t[0].religoiusgroup?kt?kt.p(t,e):(kt=cl(t),kt.c(),kt.m(Y,null)):kt&&(kt.d(1),kt=null),9&e&&j(Y,"center",!t[0][t[3]("intro")]&&!t[0][t[3]("bio")]),9&e&&(ct=t[0][t[3]("intro")]&&t[0][t[3]("bio")]),ct?Ct?Ct.p(t,e):(Ct=hl(t),Ct.c(),Ct.m(O,null)):Ct&&(Ct.d(1),Ct=null),Tt===(Tt=At(t))&&Nt?Nt.p(t,e):(Nt&&Nt.d(1),Nt=Tt&&Tt(t),Nt&&(Nt.c(),Nt.m(Q,null))),J&&a(J.update)&&2&e&&J.update.call(null,{background:Co,backgroundTransparent:"#00324700",color:Ao,yellow:To,topOffset:`${t[1]}px`,decreasedTopOffset:"0px",increasedTopOffset:"20px"})},i(t){tt||(mt(ft),mt(dt),ot((()=>{K||(K=xt(e,Ea,{duration:200},!0)),K.run(1)})),tt=!0)},o(t){vt(ft),vt(dt),K||(K=xt(e,Ea,{duration:200},!1)),K.run(0),tt=!1},d(t){t&&M(e),ht&&ht.d(),ft&&ft.d(),dt&&dt.d(),yt&&yt.d(),$t&&$t.d(),wt&&wt.d(),bt&&bt.d(),_t&&_t.d(),Mt&&Mt.d(),kt&&kt.d(),Ct&&Ct.d(),Nt&&Nt.d(),t&&K&&K.end(),et=!1,o(nt)}}}function vl(t,e,n){let r,i,o;u(t,zo,(t=>n(2,r=t))),u(t,Oo,(t=>n(3,i=t))),u(t,Uo,(t=>n(4,o=t)));let{datum:a}=e,{topOffset:s=0}=e;const l=Q();return t.$$set=t=>{"datum"in t&&n(0,a=t.datum),"topOffset"in t&&n(1,s=t.topOffset)},[a,s,r,i,o,function(){l("close")},function(e){J(t,e)},function(e){J(t,e)}]}class yl extends Tt{constructor(t){super(),At(this,t,vl,ml,s,{datum:0,topOffset:1})}}function xl(t,e,n){const r=t.slice();return r[0]=e[n],r}function $l(t){let e;return{c(){e=C("div"),F(e,"class","svelte-1ckvxdq")},m(t,n){_(t,e,n)},d(t){t&&M(e)}}}function wl(e){let n,r,i,o,a=Array(12),s=[];for(let t=0;t<a.length;t+=1)s[t]=$l(xl(e,a,t));return{c(){n=C("div"),r=C("div");for(let t=0;t<s.length;t+=1)s[t].c();F(r,"class","spinner svelte-1ckvxdq"),F(n,"class","loading-spinner svelte-1ckvxdq")},m(t,e){_(t,n,e),b(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);i||(o=g(Wo.call(null,n,{defaultColor:Ao})),i=!0)},p:t,i:t,o:t,d(t){t&&M(n),k(s,t),i=!1,o()}}}class bl extends Tt{constructor(t){super(),At(this,t,null,wl,s,{})}}function _l(t){let e,n;return e=new bl({}),{c(){_t(e.$$.fragment)},m(t,r){Mt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Ml(t){let e,n;return e=new yl({props:{datum:t[6].d,topOffset:t[2]}}),e.$on("close",t[10]),{c(){_t(e.$$.fragment)},m(t,r){Mt(e,t,r),n=!0},p(t,n){const r={};64&n&&(r.datum=t[6].d),4&n&&(r.topOffset=t[2]),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function kl(t){let e,n;return e=new Ts({props:{tooltip:t[9],parentWidth:t[0],parentHeight:t[1],selectedGroup:t[4],selectedColor:t[5]}}),{c(){_t(e.$$.fragment)},m(t,r){Mt(e,t,r),n=!0},p(t,n){const r={};512&n&&(r.tooltip=t[9]),1&n&&(r.parentWidth=t[0]),2&n&&(r.parentHeight=t[1]),16&n&&(r.selectedGroup=t[4]),32&n&&(r.selectedColor=t[5]),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){kt(e,t)}}}function Cl(t){let e,n,r,i,o,a,s,l,u,c,h,f,d,p,g,m,v,y,x,$,w=(!t[7]||0===t[7].length)&&_l();i=new ca({}),a=new Aa({props:{topOffset:t[2]}}),c=new Ya({props:{data:t[7],showClusterTitles:t[8]}}),f=new is({props:{data:t[7]}}),p=new xs({props:{data:t[7],showLabels:t[3]}});let k=t[6]&&Ml(t),A=t[9]&&!t[6]&&kl(t);return{c(){e=C("div"),w&&w.c(),n=N(),r=C("div"),_t(i.$$.fragment),o=N(),_t(a.$$.fragment),l=N(),u=C("div"),_t(c.$$.fragment),h=N(),_t(f.$$.fragment),d=N(),_t(p.$$.fragment),g=N(),k&&k.c(),v=N(),A&&A.c(),F(r,"class","visualization-header svelte-9gs7jp"),ot((()=>t[19].call(r))),F(u,"class","draw-wrapper svelte-9gs7jp"),ot((()=>t[20].call(u))),F(e,"class","visualization-wrapper svelte-9gs7jp")},m(M,C){_(M,e,C),w&&w.m(e,null),b(e,n),b(e,r),Mt(i,r,null),b(r,o),Mt(a,r,null),s=z(r,t[19].bind(r)),b(e,l),b(e,u),Mt(c,u,null),b(u,h),Mt(f,u,null),b(u,d),Mt(p,u,null),b(u,g),k&&k.m(u,null),m=z(u,t[20].bind(u)),b(e,v),A&&A.m(e,null),y=!0,x||($=S(window,"keydown",t[11]),x=!0)},p(t,[r]){t[7]&&0!==t[7].length?w&&(pt(),vt(w,1,1,(()=>{w=null})),gt()):w?128&r&&mt(w,1):(w=_l(),w.c(),mt(w,1),w.m(e,n));const i={};4&r&&(i.topOffset=t[2]),a.$set(i);const o={};128&r&&(o.data=t[7]),256&r&&(o.showClusterTitles=t[8]),c.$set(o);const s={};128&r&&(s.data=t[7]),f.$set(s);const l={};128&r&&(l.data=t[7]),8&r&&(l.showLabels=t[3]),p.$set(l),t[6]?k?(k.p(t,r),64&r&&mt(k,1)):(k=Ml(t),k.c(),mt(k,1),k.m(u,null)):k&&(pt(),vt(k,1,1,(()=>{k=null})),gt()),t[9]&&!t[6]?A?(A.p(t,r),576&r&&mt(A,1)):(A=kl(t),A.c(),mt(A,1),A.m(e,null)):A&&(pt(),vt(A,1,1,(()=>{A=null})),gt())},i(t){y||(mt(w),mt(i.$$.fragment,t),mt(a.$$.fragment,t),mt(c.$$.fragment,t),mt(f.$$.fragment,t),mt(p.$$.fragment,t),mt(k),mt(A),y=!0)},o(t){vt(w),vt(i.$$.fragment,t),vt(a.$$.fragment,t),vt(c.$$.fragment,t),vt(f.$$.fragment,t),vt(p.$$.fragment,t),vt(k),vt(A),y=!1},d(t){t&&M(e),w&&w.d(),kt(i),kt(a),s(),kt(c),kt(f),kt(p),k&&k.d(),m(),A&&A.d(),x=!1,$()}}}function Al(t,e,n){let r,i,o,a,s,l,c,h;u(t,qo,(t=>n(15,o=t))),u(t,Po,(t=>n(16,a=t))),u(t,ta,(t=>n(6,s=t))),u(t,Jo,(t=>n(17,l=t))),u(t,jo,(t=>n(18,c=t))),u(t,Ko,(t=>n(9,h=t)));let f,d,{data:g=[]}=e,m=0,v=0,y=0,x=[],$=!0,w=!1;function b(){ta.set(null)}return t.$$set=t=>{"data"in t&&n(12,g=t.data)},t.$$.update=()=>{if(3&t.$$.dirty&&n(13,r=Math.sqrt(m*v)),8192&t.$$.dirty&&Jo.set(Qo(r)),4&t.$$.dirty&&n(14,i={top:y+50,right:0,bottom:30,left:0}),512123&t.$$.dirty&&g&&g.length){n(4,f=o.find((t=>t.selected))),n(5,d=a.find((t=>t.selected))),n(8,$=!s&&f.show),n(3,w=!s&&d.show&&f.name!==d.name);const t=Bo(f,d,g,l);n(7,x=Xo(t,m,v,i,c,w))}64&t.$$.dirty&&s&&p(Ko,h=null,h)},[m,v,y,w,f,d,s,x,$,h,b,function(t){27===t.keyCode&&b()},g,r,i,o,a,l,c,function(){y=this.clientHeight,n(2,y)},function(){m=this.clientWidth,v=this.clientHeight,n(0,m),n(1,v)}]}class Tl extends Tt{constructor(t){super(),At(this,t,Al,Cl,s,{data:12})}}function Nl(e){let n,r,i,o,a,s=e[0][e[1]]+"";return{c(){n=C("div"),r=C("button"),i=T(s),F(r,"class","svelte-kwthx5"),F(n,"class","locale-selector svelte-kwthx5")},m(t,s){_(t,n,s),b(n,r),b(r,i),o||(a=S(r,"click",e[4]),o=!0)},p(t,[e]){3&e&&s!==(s=t[0][t[1]]+"")&&P(i,s)},i:t,o:t,d(t){t&&M(n),o=!1,a()}}}function Ll(t,e,n){let r,i;u(t,Yo,(t=>n(0,i=t)));let{locale:o="en"}=e;const a=Q();function s(t){a("localeselected",t)}return t.$$set=t=>{"locale"in t&&n(3,o=t.locale)},t.$$.update=()=>{9&t.$$.dirty&&n(1,r=Object.keys(i).find((t=>t!==o)))},[i,r,s,o,()=>s(r)]}class Sl extends Tt{constructor(t){super(),At(this,t,Ll,Nl,s,{locale:3})}}function El(e){let n,r,i,o,a,s,l,u;return{c(){n=C("footer"),r=C("p"),r.textContent=`${(new Date).getFullYear()}`,i=N(),o=C("p"),o.textContent="|",a=N(),s=C("a"),s.textContent="journalismisnotacrime.com",F(r,"class","svelte-tv0bz8"),F(o,"class","svelte-tv0bz8"),F(s,"href","https://journalismisnotacrime.com"),F(s,"target","_blank"),F(s,"class","svelte-tv0bz8"),F(n,"class","svelte-tv0bz8")},m(t,e){_(t,n,e),b(n,r),b(n,i),b(n,o),b(n,a),b(n,s),l||(u=g(Wo.call(null,n,{defaultColor:Ao})),l=!0)},p:t,i:t,o:t,d(t){t&&M(n),l=!1,u()}}}class Fl extends Tt{constructor(t){super(),At(this,t,null,El,s,{})}}function ql(e){let n,r,i,o,a;return{c(){n=C("div"),n.innerHTML='<div class="scroll-note-content svelte-q5s98t"><span>v</span></div>',F(n,"class","scroll-note svelte-q5s98t")},m(t,e){_(t,n,e),i=!0,o||(a=g(Wo.call(null,n,{defaultColor:Ao,background:Co})),o=!0)},p:t,i(t){i||(ot((()=>{r||(r=xt(n,Ea,{duration:200},!0)),r.run(1)})),i=!0)},o(t){r||(r=xt(n,Ea,{duration:200},!1)),r.run(0),i=!1},d(t){t&&M(n),t&&r&&r.end(),o=!1,a()}}}function Pl(t){let e,n,r,i,o,a=!1,s=()=>{a=!1};ot(t[2]);let l=(!t[0]||t[0]<20)&&!t[1]&&ql();return{c(){l&&l.c(),n=L()},m(u,c){l&&l.m(u,c),_(u,n,c),r=!0,i||(o=S(window,"scroll",(()=>{a=!0,clearTimeout(e),e=setTimeout(s,100),t[2]()})),i=!0)},p(t,[r]){1&r&&!a&&(a=!0,clearTimeout(e),scrollTo(window.pageXOffset,t[0]),e=setTimeout(s,100)),t[0]&&!(t[0]<20)||t[1]?l&&(pt(),vt(l,1,1,(()=>{l=null})),gt()):l?(l.p(t,r),3&r&&mt(l,1)):(l=ql(),l.c(),mt(l,1),l.m(n.parentNode,n))},i(t){r||(mt(l),r=!0)},o(t){vt(l),r=!1},d(t){l&&l.d(t),t&&M(n),i=!1,o()}}}function Dl(t,e,n){let r,i;return u(t,ta,(t=>n(1,r=t))),[i,r,function(){n(0,i=window.pageYOffset)}]}class Ul extends Tt{constructor(t){super(),At(this,t,Dl,Pl,s,{})}}function Hl(t){let e,n,r,i,o,a,s,l,u,c,h,f;return n=new Tl({props:{data:t[1].map(jl)}}),i=new Sl({props:{locale:t[2]}}),i.$on("localeselected",t[3]),a=new Fl({}),l=new Ul({}),{c(){e=C("div"),_t(n.$$.fragment),r=N(),_t(i.$$.fragment),o=N(),_t(a.$$.fragment),s=N(),_t(l.$$.fragment),F(e,"class",u="component-wrapper "+t[0]+" svelte-laxvtj")},m(t,u){_(t,e,u),Mt(n,e,null),b(e,r),Mt(i,e,null),b(e,o),Mt(a,e,null),b(e,s),Mt(l,e,null),c=!0,h||(f=g(Wo.call(null,e,{backgroundColor:Co,defaultColor:Ao,yellow:To,font01:"Roboto, Helvetica, Arial, sans-serif",font02:"Roboto, Helvetica, Arial, sans-serif"})),h=!0)},p(t,[r]){const o={};2&r&&(o.data=t[1].map(jl)),n.$set(o);const a={};4&r&&(a.locale=t[2]),i.$set(a),(!c||1&r&&u!==(u="component-wrapper "+t[0]+" svelte-laxvtj"))&&F(e,"class",u)},i(t){c||(mt(n.$$.fragment,t),mt(i.$$.fragment,t),mt(a.$$.fragment,t),mt(l.$$.fragment,t),c=!0)},o(t){vt(n.$$.fragment,t),vt(i.$$.fragment,t),vt(a.$$.fragment,t),vt(l.$$.fragment,t),c=!1},d(t){t&&M(e),kt(n),kt(i),kt(a),kt(l),h=!1,f()}}}const zl="rosette_data",jl=(t,e)=>({id:e,...t});function Ol(t,e,n){let r;u(t,Uo,(t=>n(2,r=t)));let{dataPath:i="data/data.csv"}=e,{dictionaryPath:o="data/dictionary.json"}=e,{locale:a="en"}=e,s=[];function l(){tr(i,bo).then((t=>{n(1,s=t);try{localStorage.setItem(zl,JSON.stringify({created:(new Date).getTime(),data:s}))}catch(t){console.log("Could not cache data.",t)}qo.init(s),Po.init(s)}))}return X((()=>{Uo.set(a),fetch(o).then((t=>t.json())).then((t=>{Do.set(t)}));const t=localStorage.getItem(zl);if(t){const{created:i,data:o}=JSON.parse(t);i&&(e=i,r=(new Date).getTime(),Math.abs((e-r)/864e5)<7)?(n(1,s=o),qo.init(s),Po.init(s)):l()}else l();var e,r})),t.$$set=t=>{"dataPath"in t&&n(4,i=t.dataPath),"dictionaryPath"in t&&n(5,o=t.dictionaryPath),"locale"in t&&n(0,a=t.locale)},[a,s,r,function(t){const{detail:e}=t;Uo.set(e)},i,o]}class Yl extends Tt{constructor(t){super(),At(this,t,Ol,Hl,s,{dataPath:4,dictionaryPath:5,locale:0})}}function Zl(e){let n,r;return n=new Yl({props:{dataPath:"data/data.csv",dictionaryPath:"data/dictionary.json"}}),{c(){_t(n.$$.fragment)},m(t,e){Mt(n,t,e),r=!0},p:t,i(t){r||(mt(n.$$.fragment,t),r=!0)},o(t){vt(n.$$.fragment,t),r=!1},d(t){kt(n,t)}}}function Il(t){let e,n,r;return n=new Ft({props:{$$slots:{default:[Zl]},$$scope:{ctx:t}}}),{c(){e=C("div"),_t(n.$$.fragment),F(e,"class","app-wrapper svelte-hrklgt")},m(t,i){_(t,e,i),Mt(n,e,null),r=!0},p(t,[e]){const r={};1&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(mt(n.$$.fragment,t),r=!0)},o(t){vt(n.$$.fragment,t),r=!1},d(t){t&&M(e),kt(n)}}}return new class extends Tt{constructor(t){super(),At(this,t,null,Il,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
